define(["./Cartesian2-08065eec","./combine-1510933d","./AttributeCompression-9fbb8447","./Math-5ca9b250","./IndexDatatype-9504f550","./createTaskProcessorWorker","./Check-be2d5acb","./when-ad3237a0","./WebGLConstants-1c8239cc"],(function(a,e,r,n,t,i,s,o,u){"use strict";var c=32767,f=new a.Cartographic,p=new a.Cartesian3,d=new a.Rectangle,C=new a.Ellipsoid,b=new a.Cartesian3,h={min:void 0,max:void 0},w=new a.Cartesian3,l=new a.Cartesian3,y=new a.Cartesian3,k=new a.Cartesian3,v=new a.Cartesian3;return i((function(i,s){var o=new Uint16Array(i.positions),u=new Uint16Array(i.widths),A=new Uint32Array(i.counts),g=new Uint16Array(i.batchIds);!function(e){e=new Float64Array(e);var r=0;h.min=e[r++],h.max=e[r++],a.Rectangle.unpack(e,2,d),r+=a.Rectangle.packedLength,a.Ellipsoid.unpack(e,r,C),r+=a.Ellipsoid.packedLength,a.Cartesian3.unpack(e,r,b)}(i.packedBuffer);for(var m=C,x=b,D=function(e,t,i,s,o){var u=e.length/3,d=e.subarray(0,u),C=e.subarray(u,2*u),b=e.subarray(2*u,3*u);r.AttributeCompression.zigZagDeltaDecode(d,C,b);for(var h=new Float64Array(e.length),w=0;w<u;++w){var l=d[w],y=C[w],k=b[w];l=n.CesiumMath.lerp(t.west,t.east,l/c),y=n.CesiumMath.lerp(t.south,t.north,y/c),k=n.CesiumMath.lerp(i,s,k/c),k=a.Cartographic.fromRadians(l,y,k,f),k=o.cartographicToCartesian(k,p),a.Cartesian3.pack(k,h,3*w)}return h}(o,d,h.min,h.max,m),E=(m=4*(o=D.length/3)-4,new Float32Array(3*m)),I=new Float32Array(3*m),P=new Float32Array(3*m),U=new Float32Array(2*m),T=new Uint16Array(m),F=0,N=0,R=0,M=0,L=A.length,S=0;S<L;++S){for(var _,G=A[S],W=u[S],B=g[S],O=0;O<G;++O){0===O?(H=a.Cartesian3.unpack(D,3*M,w),z=a.Cartesian3.unpack(D,3*(M+1),l),_=a.Cartesian3.subtract(H,z,y),a.Cartesian3.add(H,_,_)):_=a.Cartesian3.unpack(D,3*(M+O-1),y);var z,H,Y,Z=a.Cartesian3.unpack(D,3*(M+O),k);O===G-1?(z=a.Cartesian3.unpack(D,3*(M+G-1),w),H=a.Cartesian3.unpack(D,3*(M+G-2),l),Y=a.Cartesian3.subtract(z,H,v),a.Cartesian3.add(z,Y,Y)):Y=a.Cartesian3.unpack(D,3*(M+O+1),v),a.Cartesian3.subtract(_,x,_),a.Cartesian3.subtract(Z,x,Z),a.Cartesian3.subtract(Y,x,Y);for(var j=O===G-1?2:4,q=0===O?2:0;q<j;++q){a.Cartesian3.pack(Z,E,F),a.Cartesian3.pack(_,I,F),a.Cartesian3.pack(Y,P,F),F+=3;var J=q-2<0?-1:1;U[N++]=q%2*2-1,U[N++]=J*W,T[R++]=B}}M+=G}var K=t.IndexDatatype.createTypedArray(m,6*o-6),Q=0,V=0;for(L=o-1,S=0;S<L;++S)K[V++]=Q,K[V++]=Q+2,K[V++]=Q+1,K[V++]=Q+1,K[V++]=Q+2,K[V++]=Q+3,Q+=4;return s.push(E.buffer,I.buffer,P.buffer),s.push(U.buffer,T.buffer,K.buffer),o={indexDatatype:2===K.BYTES_PER_ELEMENT?t.IndexDatatype.UNSIGNED_SHORT:t.IndexDatatype.UNSIGNED_INT,currentPositions:E.buffer,previousPositions:I.buffer,nextPositions:P.buffer,expandAndWidth:U.buffer,batchIds:T.buffer,indices:K.buffer},i.keepDecodedPositions&&(i=function(a){for(var e=a.length,r=new Uint32Array(e+1),n=0,t=0;t<e;++t)r[t]=n,n+=a[t];return r[e]=n,r}(A),s.push(D.buffer,i.buffer),o=e.combine(o,{decodedPositions:D.buffer,decodedPositionOffsets:i.buffer})),o}))}));