define(["exports","./Cartesian2-08065eec","./Check-be2d5acb","./when-ad3237a0","./Math-5ca9b250","./combine-1510933d","./RuntimeError-767bd866"],(function(e,t,n,r,a,i,s){"use strict";function o(e){this._ellipsoid=r.defaultValue(e,t.Ellipsoid.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(o.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),o.prototype.project=function(e,n){var a=this._semimajorAxis,i=e.longitude*a;return a=e.latitude*a,e=e.height,r.defined(n)?(n.x=i,n.y=a,n.z=e,n):new t.Cartesian3(i,a,e)},o.prototype.unproject=function(e,n){var a=this._oneOverSemimajorAxis,i=e.x*a;return a=e.y*a,e=e.z,r.defined(n)?(n.longitude=i,n.latitude=a,n.height=e,n):new t.Cartographic(i,a,e)};var u=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});function l(e,t){this.start=r.defaultValue(e,0),this.stop=r.defaultValue(t,0)}function c(e,t,n,a,i,s,o,u,l){this[0]=r.defaultValue(e,0),this[1]=r.defaultValue(a,0),this[2]=r.defaultValue(o,0),this[3]=r.defaultValue(t,0),this[4]=r.defaultValue(i,0),this[5]=r.defaultValue(u,0),this[6]=r.defaultValue(n,0),this[7]=r.defaultValue(s,0),this[8]=r.defaultValue(l,0)}c.packedLength=9,c.pack=function(e,t,n){return n=r.defaultValue(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t},c.unpack=function(e,t,n){return t=r.defaultValue(t,0),(n=r.defined(n)?n:new c)[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n},c.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new c(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},c.fromArray=function(e,t,n){return t=r.defaultValue(t,0),(n=r.defined(n)?n:new c)[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],n[6]=e[t+6],n[7]=e[t+7],n[8]=e[t+8],n},c.fromColumnMajorArray=function(e,t){return c.clone(e,t)},c.fromRowMajorArray=function(e,t){return r.defined(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new c(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},c.fromQuaternion=function(e,t){var n=e.x*e.x,a=e.x*e.y,i=e.x*e.z,s=e.x*e.w,o=e.y*e.y,u=e.y*e.z,l=e.y*e.w,d=e.z*e.z,f=e.z*e.w,h=n-o-d+(y=e.w*e.w),p=2*(a-f),m=2*(i+l),y=(e=2*(a+f),a=o-n-d+y,f=2*(u-s),l=2*(i-l),s=2*(u+s),-n-o+d+y);return r.defined(t)?(t[0]=h,t[1]=e,t[2]=l,t[3]=p,t[4]=a,t[5]=s,t[6]=m,t[7]=f,t[8]=y,t):new c(h,p,m,e,a,f,l,s,y)},c.fromHeadingPitchRoll=function(e,t){var n=Math.cos(-e.pitch),a=Math.cos(-e.heading),i=Math.cos(e.roll),s=Math.sin(-e.pitch),o=n*a,u=-i*(f=Math.sin(-e.heading))+(h=Math.sin(e.roll))*s*a,l=h*f+i*s*a,d=n*f,f=(e=i*a+h*s*f,-h*a+i*s*f),h=(s=-s,h*n);return n*=i,r.defined(t)?(t[0]=o,t[1]=d,t[2]=s,t[3]=u,t[4]=e,t[5]=h,t[6]=l,t[7]=f,t[8]=n,t):new c(o,u,l,d,e,f,s,h,n)},c.fromScale=function(e,t){return r.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new c(e.x,0,0,0,e.y,0,0,0,e.z)},c.fromUniformScale=function(e,t){return r.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new c(e,0,0,0,e,0,0,0,e)},c.fromCrossProduct=function(e,t){return r.defined(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new c(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},c.fromRotationX=function(e,t){var n=Math.cos(e);return e=Math.sin(e),r.defined(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=e,t[6]=0,t[7]=-e,t[8]=n,t):new c(1,0,0,0,n,-e,0,e,n)},c.fromRotationY=function(e,t){var n=Math.cos(e);return e=Math.sin(e),r.defined(t)?(t[0]=n,t[1]=0,t[2]=-e,t[3]=0,t[4]=1,t[5]=0,t[6]=e,t[7]=0,t[8]=n,t):new c(n,0,e,0,1,0,-e,0,n)},c.fromRotationZ=function(e,t){var n=Math.cos(e);return e=Math.sin(e),r.defined(t)?(t[0]=n,t[1]=e,t[2]=0,t[3]=-e,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new c(n,-e,0,e,n,0,0,0,1)},c.toArray=function(e,t){return r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},c.getElementIndex=function(e,t){return 3*e+t},c.getColumn=function(e,t,n){var r=e[a=3*t],a=(t=e[1+a],e[2+a]);return n.x=r,n.y=t,n.z=a,n},c.setColumn=function(e,t,n,r){return t*=3,(r=c.clone(e,r))[t]=n.x,r[1+t]=n.y,r[2+t]=n.z,r},c.getRow=function(e,t,n){var r=e[t],a=e[t+3];return t=e[t+6],n.x=r,n.y=a,n.z=t,n},c.setRow=function(e,t,n,r){return(r=c.clone(e,r))[t]=n.x,r[t+3]=n.y,r[t+6]=n.z,r};var d=new t.Cartesian3;c.getScale=function(e,n){return n.x=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[0],e[1],e[2],d)),n.y=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[3],e[4],e[5],d)),n.z=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[6],e[7],e[8],d)),n};var f=new t.Cartesian3;c.getMaximumScale=function(e){return c.getScale(e,f),t.Cartesian3.maximumComponent(f)},c.multiply=function(e,t,n){var r=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],a=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],i=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],s=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],o=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],l=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],c=e[1]*t[6]+e[4]*t[7]+e[7]*t[8];return t=e[2]*t[6]+e[5]*t[7]+e[8]*t[8],n[0]=r,n[1]=a,n[2]=i,n[3]=s,n[4]=o,n[5]=u,n[6]=l,n[7]=c,n[8]=t,n},c.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},c.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},c.multiplyByVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[3]*a+e[6]*i;return t=e[1]*r+e[4]*a+e[7]*i,i=e[2]*r+e[5]*a+e[8]*i,n.x=s,n.y=t,n.z=i,n},c.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},c.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},c.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},c.transpose=function(e,t){var n=e[0],r=e[3],a=e[6],i=e[1],s=e[4],o=e[7],u=e[2],l=e[5];return e=e[8],t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=s,t[5]=o,t[6]=u,t[7]=l,t[8]=e,t};var h=new t.Cartesian3(1,1,1);c.getRotation=function(e,n){var r=t.Cartesian3.divideComponents(h,c.getScale(e,f),f);return c.multiplyByScale(e,r,n)};var p=[1,0,0],m=[2,2,1],y=new c,C=new c;c.computeEigenDecomposition=function(e,t){for(var n=a.CesiumMath.EPSILON20,i=0,s=0,o=(t=r.defined(t)?t:{}).unitary=c.clone(c.IDENTITY,t.unitary),u=t.diagonal=c.clone(e,t.diagonal),l=n*function(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}(u);s<10&&function(e){for(var t=0,n=0;n<3;++n){var r=e[c.getElementIndex(m[n],p[n])];t+=2*r*r}return Math.sqrt(t)}(u)>l;)!function(e,t){for(var n=a.CesiumMath.EPSILON15,r=0,i=1,s=0;s<3;++s){var o=Math.abs(e[c.getElementIndex(m[s],p[s])]);r<o&&(i=s,r=o)}var u=1,l=0,d=p[i],f=m[i];Math.abs(e[c.getElementIndex(f,d)])>n&&(l=(n=(n=(e[c.getElementIndex(f,f)]-e[c.getElementIndex(d,d)])/2/e[c.getElementIndex(f,d)])<0?-1/(-n+Math.sqrt(1+n*n)):1/(n+Math.sqrt(1+n*n)))*(u=1/Math.sqrt(1+n*n))),(t=c.clone(c.IDENTITY,t))[c.getElementIndex(d,d)]=t[c.getElementIndex(f,f)]=u,t[c.getElementIndex(f,d)]=l,t[c.getElementIndex(d,f)]=-l}(u,y),c.transpose(y,C),c.multiply(u,y,u),c.multiply(C,u,u),c.multiply(o,y,o),2<++i&&(++s,i=0);return t},c.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},c.determinant=function(e){var t=e[0],n=e[3],r=e[6],a=e[1],i=e[4],s=e[7],o=e[2],u=e[5];return t*(i*(e=e[8])-u*s)+a*(u*r-n*e)+o*(n*s-i*r)},c.inverse=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],l=e[7],d=e[8];return e=c.determinant(e),t[0]=s*d-l*o,t[1]=l*a-r*d,t[2]=r*o-s*a,t[3]=u*o-i*d,t[4]=n*d-u*a,t[5]=i*a-n*o,t[6]=i*l-u*s,t[7]=u*r-n*l,t[8]=n*s-i*r,c.multiplyByScalar(t,1/e,t)};var w=new c;function v(e,t,n,a){this.x=r.defaultValue(e,0),this.y=r.defaultValue(t,0),this.z=r.defaultValue(n,0),this.w=r.defaultValue(a,0)}c.inverseTranspose=function(e,t){return c.inverse(c.transpose(e,w),t)},c.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},c.equalsEpsilon=function(e,t,n){return n=r.defaultValue(n,0),e===t||r.defined(e)&&r.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},c.IDENTITY=Object.freeze(new c(1,0,0,0,1,0,0,0,1)),c.ZERO=Object.freeze(new c(0,0,0,0,0,0,0,0,0)),c.COLUMN0ROW0=0,c.COLUMN0ROW1=1,c.COLUMN0ROW2=2,c.COLUMN1ROW0=3,c.COLUMN1ROW1=4,c.COLUMN1ROW2=5,c.COLUMN2ROW0=6,c.COLUMN2ROW1=7,c.COLUMN2ROW2=8,Object.defineProperties(c.prototype,{length:{get:function(){return c.packedLength}}}),c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},c.prototype.equalsEpsilon=function(e,t){return c.equalsEpsilon(this,e,t)},c.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},v.fromElements=function(e,t,n,a,i){return r.defined(i)?(i.x=e,i.y=t,i.z=n,i.w=a,i):new v(e,t,n,a)},v.fromColor=function(e,t){return r.defined(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new v(e.red,e.green,e.blue,e.alpha)},v.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new v(e.x,e.y,e.z,e.w)},v.packedLength=4,v.pack=function(e,t,n){return n=r.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.z,t[n]=e.w,t},v.unpack=function(e,t,n){return t=r.defaultValue(t,0),(n=r.defined(n)?n:new v).x=e[t++],n.y=e[t++],n.z=e[t++],n.w=e[t],n},v.packArray=function(e,t){var a=e.length,i=4*a;if(r.defined(t)){if(!Array.isArray(t)&&t.length!==i)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==i&&(t.length=i)}else t=new Array(i);for(var s=0;s<a;++s)v.pack(e[s],t,4*s);return t},v.unpackArray=function(e,t){var n=e.length;r.defined(t)?t.length=n/4:t=new Array(n/4);for(var a=0;a<n;a+=4){var i=a/4;t[i]=v.unpack(e,a,t[i])}return t},v.fromArray=v.unpack,v.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},v.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},v.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n.w=Math.min(e.w,t.w),n},v.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n.w=Math.max(e.w,t.w),n},v.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},v.magnitude=function(e){return Math.sqrt(v.magnitudeSquared(e))};var g=new v;v.distance=function(e,t){return v.subtract(e,t,g),v.magnitude(g)},v.distanceSquared=function(e,t){return v.subtract(e,t,g),v.magnitudeSquared(g)},v.normalize=function(e,t){var n=v.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},v.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},v.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n.w=e.w*t.w,n},v.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n.w=e.w/t.w,n},v.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},v.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},v.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},v.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},v.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},v.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var x=new v;v.lerp=function(e,t,n,r){return v.multiplyByScalar(t,n,x),r=v.multiplyByScalar(e,1-n,r),v.add(x,r,r)};var E=new v;v.mostOrthogonalAxis=function(e,t){return e=v.normalize(e,E),v.abs(e,e),e.x<=e.y?e.x<=e.z?e.x<=e.w?v.clone(v.UNIT_X,t):v.clone(v.UNIT_W,t):e.z<=e.w?v.clone(v.UNIT_Z,t):v.clone(v.UNIT_W,t):e.y<=e.z?e.y<=e.w?v.clone(v.UNIT_Y,t):v.clone(v.UNIT_W,t):e.z<=e.w?v.clone(v.UNIT_Z,t):v.clone(v.UNIT_W,t)},v.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},v.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},v.equalsEpsilon=function(e,t,n,i){return e===t||r.defined(e)&&r.defined(t)&&a.CesiumMath.equalsEpsilon(e.x,t.x,n,i)&&a.CesiumMath.equalsEpsilon(e.y,t.y,n,i)&&a.CesiumMath.equalsEpsilon(e.z,t.z,n,i)&&a.CesiumMath.equalsEpsilon(e.w,t.w,n,i)},v.ZERO=Object.freeze(new v(0,0,0,0)),v.UNIT_X=Object.freeze(new v(1,0,0,0)),v.UNIT_Y=Object.freeze(new v(0,1,0,0)),v.UNIT_Z=Object.freeze(new v(0,0,1,0)),v.UNIT_W=Object.freeze(new v(0,0,0,1)),v.prototype.clone=function(e){return v.clone(this,e)},v.prototype.equals=function(e){return v.equals(this,e)},v.prototype.equalsEpsilon=function(e,t,n){return v.equalsEpsilon(this,e,t,n)},v.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var O=new Float32Array(1),_=new Uint8Array(O.buffer),S=new Uint32Array([287454020]),b=68===new Uint8Array(S.buffer)[0];function A(e,t,n,a,i,s,o,u,l,c,d,f,h,p,m,y){this[0]=r.defaultValue(e,0),this[1]=r.defaultValue(i,0),this[2]=r.defaultValue(l,0),this[3]=r.defaultValue(h,0),this[4]=r.defaultValue(t,0),this[5]=r.defaultValue(s,0),this[6]=r.defaultValue(c,0),this[7]=r.defaultValue(p,0),this[8]=r.defaultValue(n,0),this[9]=r.defaultValue(o,0),this[10]=r.defaultValue(d,0),this[11]=r.defaultValue(m,0),this[12]=r.defaultValue(a,0),this[13]=r.defaultValue(u,0),this[14]=r.defaultValue(f,0),this[15]=r.defaultValue(y,0)}v.packFloat=function(e,t){return r.defined(t)||(t=new v),O[0]=e,b?(t.x=_[0],t.y=_[1],t.z=_[2],t.w=_[3]):(t.x=_[3],t.y=_[2],t.z=_[1],t.w=_[0]),t},v.unpackFloat=function(e){return b?(_[0]=e.x,_[1]=e.y,_[2]=e.z,_[3]=e.w):(_[0]=e.w,_[1]=e.z,_[2]=e.y,_[3]=e.x),O[0]},A.packedLength=16,A.pack=function(e,t,n){return n=r.defaultValue(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t[n++]=e[9],t[n++]=e[10],t[n++]=e[11],t[n++]=e[12],t[n++]=e[13],t[n++]=e[14],t[n]=e[15],t},A.unpack=function(e,t,n){return t=r.defaultValue(t,0),(n=r.defined(n)?n:new A)[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n[9]=e[t++],n[10]=e[t++],n[11]=e[t++],n[12]=e[t++],n[13]=e[t++],n[14]=e[t++],n[15]=e[t],n},A.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new A(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},A.fromArray=A.unpack,A.fromColumnMajorArray=function(e,t){return A.clone(e,t)},A.fromRowMajorArray=function(e,t){return r.defined(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new A(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},A.fromRotationTranslation=function(e,n,a){return n=r.defaultValue(n,t.Cartesian3.ZERO),r.defined(a)?(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=0,a[4]=e[3],a[5]=e[4],a[6]=e[5],a[7]=0,a[8]=e[6],a[9]=e[7],a[10]=e[8],a[11]=0,a[12]=n.x,a[13]=n.y,a[14]=n.z,a[15]=1,a):new A(e[0],e[3],e[6],n.x,e[1],e[4],e[7],n.y,e[2],e[5],e[8],n.z,0,0,0,1)},A.fromTranslationQuaternionRotationScale=function(e,t,n,a){r.defined(a)||(a=new A);var i=n.x,s=n.y,o=n.z,u=t.x*t.x,l=t.x*t.y,c=t.x*t.z,d=t.x*t.w,f=t.y*t.y,h=t.y*t.z,p=t.y*t.w,m=t.z*t.z,y=t.z*t.w,C=t.w*t.w,w=2*(l-y);return n=2*(c+p),t=2*(l+y),l=f-u-m+C,y=2*(h-d),p=2*(c-p),h=2*(h+d),d=-u-f+m+C,a[0]=(u-f-m+C)*i,a[1]=t*i,a[2]=p*i,a[3]=0,a[4]=w*s,a[5]=l*s,a[6]=h*s,a[7]=0,a[8]=n*o,a[9]=y*o,a[10]=d*o,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,a},A.fromTranslationRotationScale=function(e,t){return A.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},A.fromTranslation=function(e,t){return A.fromRotationTranslation(c.IDENTITY,e,t)},A.fromScale=function(e,t){return r.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new A(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},A.fromUniformScale=function(e,t){return r.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new A(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var M=new t.Cartesian3,R=new t.Cartesian3,T=new t.Cartesian3;A.fromCamera=function(e,n){var a=e.position,i=e.direction,s=e.up;t.Cartesian3.normalize(i,M),t.Cartesian3.normalize(t.Cartesian3.cross(M,s,R),R),t.Cartesian3.normalize(t.Cartesian3.cross(R,M,T),T);var o=R.x,u=R.y,l=R.z,c=M.x,d=M.y,f=M.z,h=T.x,p=T.y,m=T.z,y=a.x;return s=o*-y+u*-(e=a.y)+l*-(i=a.z),a=h*-y+p*-e+m*-i,i=c*y+d*e+f*i,r.defined(n)?(n[0]=o,n[1]=h,n[2]=-c,n[3]=0,n[4]=u,n[5]=p,n[6]=-d,n[7]=0,n[8]=l,n[9]=m,n[10]=-f,n[11]=0,n[12]=s,n[13]=a,n[14]=i,n[15]=1,n):new A(o,u,l,s,h,p,m,a,-c,-d,-f,i,0,0,0,1)},A.computePerspectiveFieldOfView=function(e,t,n,r,a){var i=1/Math.tan(.5*e);return e=(r+n)/(n-r),r=2*r*n/(n-r),a[0]=i/t,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=e,a[11]=-1,a[12]=0,a[13]=0,a[14]=r,a[15]=0,a},A.computeOrthographicOffCenter=function(e,t,n,r,a,i,s){var o=1/(t-e),u=1/(r-n),l=1/(i-a);return e=-(t+e)*o,n=-(r+n)*u,a=-(i+a)*l,u*=2,l*=-2,s[0]=o*=2,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=l,s[11]=0,s[12]=e,s[13]=n,s[14]=a,s[15]=1,s},A.computePerspectiveOffCenter=function(e,t,n,r,a,i,s){var o=2*a/(r-n),u=(t+e)/(t-e);return r=(r+n)/(r-n),n=-(i+a)/(i-a),i=-2*i*a/(i-a),s[0]=2*a/(t-e),s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=u,s[9]=r,s[10]=n,s[11]=-1,s[12]=0,s[13]=0,s[14]=i,s[15]=0,s},A.computeInfinitePerspectiveOffCenter=function(e,t,n,r,a,i){var s=2*a/(r-n),o=(t+e)/(t-e);return r=(r+n)/(r-n),n=-2*a,i[0]=2*a/(t-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=s,i[6]=0,i[7]=0,i[8]=o,i[9]=r,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=n,i[15]=0,i},A.computeViewportTransformation=function(e,t,n,a){r.defined(a)||(a=new A),e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT);var i=r.defaultValue(e.x,0),s=r.defaultValue(e.y,0),o=r.defaultValue(e.width,0),u=r.defaultValue(e.height,0);t=r.defaultValue(t,0);var l=.5*o;return u=e=.5*u,n=o=.5*((n=r.defaultValue(n,1))-t),i+=l,e=s+e,o=t+o,a[0]=l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=n,a[11]=0,a[12]=i,a[13]=e,a[14]=o,a[15]=1,a},A.computeView=function(e,n,r,a,i){return i[0]=a.x,i[1]=r.x,i[2]=-n.x,i[3]=0,i[4]=a.y,i[5]=r.y,i[6]=-n.y,i[7]=0,i[8]=a.z,i[9]=r.z,i[10]=-n.z,i[11]=0,i[12]=-t.Cartesian3.dot(a,e),i[13]=-t.Cartesian3.dot(r,e),i[14]=t.Cartesian3.dot(n,e),i[15]=1,i},A.toArray=function(e,t){return r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},A.getElementIndex=function(e,t){return 4*e+t},A.getColumn=function(e,t,n){var r=e[i=4*t],a=e[1+i],i=(t=e[2+i],e[3+i]);return n.x=r,n.y=a,n.z=t,n.w=i,n},A.setColumn=function(e,t,n,r){return t*=4,(r=A.clone(e,r))[t]=n.x,r[1+t]=n.y,r[2+t]=n.z,r[3+t]=n.w,r},A.setTranslation=function(e,t,n){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=e[15],n};var z=new t.Cartesian3;A.setScale=function(e,n,r){var a=A.getScale(e,z);return a=t.Cartesian3.divideComponents(n,a,z),A.multiplyByScale(e,a,r)},A.getRow=function(e,t,n){var r=e[t],a=e[t+4],i=e[t+8];return t=e[t+12],n.x=r,n.y=a,n.z=i,n.w=t,n},A.setRow=function(e,t,n,r){return(r=A.clone(e,r))[t]=n.x,r[t+4]=n.y,r[t+8]=n.z,r[t+12]=n.w,r};var q=new t.Cartesian3;A.getScale=function(e,n){return n.x=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[0],e[1],e[2],q)),n.y=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[4],e[5],e[6],q)),n.z=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[8],e[9],e[10],q)),n};var I=new t.Cartesian3;A.getMaximumScale=function(e){return A.getScale(e,I),t.Cartesian3.maximumComponent(I)},A.multiply=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=e[9],h=e[10],p=e[11],m=e[12],y=e[13],C=e[14],w=e[15],v=t[0],g=t[1],x=t[2],E=t[3],O=t[4],_=t[5],S=t[6],b=t[7],A=t[8],M=t[9],R=t[10],T=t[11],z=t[12],q=t[13],I=t[14],U=t[15],D=a*v+u*g+f*x+y*E,P=i*v+l*g+h*x+C*E,N=s*v+c*g+p*x+w*E,V=r*O+o*_+d*S+m*b;return e=a*O+u*_+f*S+y*b,t=i*O+l*_+h*S+C*b,O=s*O+c*_+p*S+w*b,_=r*A+o*M+d*R+m*T,S=a*A+u*M+f*R+y*T,b=i*A+l*M+h*R+C*T,R=s*A+c*M+p*R+w*T,T=r*z+o*q+d*I+m*U,y=a*z+u*q+f*I+y*U,C=i*z+l*q+h*I+C*U,U=s*z+c*q+p*I+w*U,n[0]=r*v+o*g+d*x+m*E,n[1]=D,n[2]=P,n[3]=N,n[4]=V,n[5]=e,n[6]=t,n[7]=O,n[8]=_,n[9]=S,n[10]=b,n[11]=R,n[12]=T,n[13]=y,n[14]=C,n[15]=U,n},A.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},A.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n},A.multiplyTransformation=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[4],o=e[5],u=e[6],l=e[8],c=e[9],d=e[10],f=e[12],h=e[13],p=e[14],m=t[0],y=t[1],C=t[2],w=t[4],v=t[5],g=t[6],x=t[8],E=t[9],O=t[10],_=t[12],S=t[13],b=t[14],A=a*m+o*y+c*C,M=i*m+u*y+d*C;return e=r*w+s*v+l*g,t=a*w+o*v+c*g,w=i*w+u*v+d*g,v=r*x+s*E+l*O,g=a*x+o*E+c*O,O=i*x+u*E+d*O,f=r*_+s*S+l*b+f,h=a*_+o*S+c*b+h,p=i*_+u*S+d*b+p,n[0]=r*m+s*y+l*C,n[1]=A,n[2]=M,n[3]=0,n[4]=e,n[5]=t,n[6]=w,n[7]=0,n[8]=v,n[9]=g,n[10]=O,n[11]=0,n[12]=f,n[13]=h,n[14]=p,n[15]=1,n},A.multiplyByMatrix3=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[4],o=e[5],u=e[6],l=e[8],c=e[9],d=e[10],f=t[0],h=t[1],p=t[2],m=t[3],y=t[4],C=t[5],w=t[6],v=t[7],g=t[8],x=a*f+o*h+c*p,E=i*f+u*h+d*p,O=r*m+s*y+l*C;return t=a*m+o*y+c*C,y=i*m+u*y+d*C,C=r*w+s*v+l*g,c=a*w+o*v+c*g,g=i*w+u*v+d*g,n[0]=r*f+s*h+l*p,n[1]=x,n[2]=E,n[3]=0,n[4]=O,n[5]=t,n[6]=y,n[7]=0,n[8]=C,n[9]=c,n[10]=g,n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},A.multiplyByTranslation=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=r*e[0]+a*e[4]+i*e[8]+e[12];return t=r*e[1]+a*e[5]+i*e[9]+e[13],i=r*e[2]+a*e[6]+i*e[10]+e[14],n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=s,n[13]=t,n[14]=i,n[15]=e[15],n};var U=new t.Cartesian3;A.multiplyByUniformScale=function(e,t,n){return U.x=t,U.y=t,U.z=t,A.multiplyByScale(e,U,n)},A.multiplyByScale=function(e,t,n){var r=t.x,a=t.y;return t=t.z,1===r&&1===a&&1===t?A.clone(e,n):(n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=0,n[4]=a*e[4],n[5]=a*e[5],n[6]=a*e[6],n[7]=0,n[8]=t*e[8],n[9]=t*e[9],n[10]=t*e[10],n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=1,n)},A.multiplyByVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=t.w,o=e[0]*r+e[4]*a+e[8]*i+e[12]*s,u=e[1]*r+e[5]*a+e[9]*i+e[13]*s;return t=e[2]*r+e[6]*a+e[10]*i+e[14]*s,s=e[3]*r+e[7]*a+e[11]*i+e[15]*s,n.x=o,n.y=u,n.z=t,n.w=s,n},A.multiplyByPointAsVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[4]*a+e[8]*i;return t=e[1]*r+e[5]*a+e[9]*i,i=e[2]*r+e[6]*a+e[10]*i,n.x=s,n.y=t,n.z=i,n},A.multiplyByPoint=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[4]*a+e[8]*i+e[12];return t=e[1]*r+e[5]*a+e[9]*i+e[13],e=e[2]*r+e[6]*a+e[10]*i+e[14],n.x=s,n.y=t,n.z=e,n},A.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},A.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},A.transpose=function(e,t){var n=e[1],r=e[2],a=e[3],i=e[6],s=e[7],o=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[10]=e[10],t[11]=e[14],t[12]=a,t[13]=s,t[14]=o,t[15]=e[15],t},A.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},A.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},A.equalsEpsilon=function(e,t,n){return n=r.defaultValue(n,0),e===t||r.defined(e)&&r.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n&&Math.abs(e[9]-t[9])<=n&&Math.abs(e[10]-t[10])<=n&&Math.abs(e[11]-t[11])<=n&&Math.abs(e[12]-t[12])<=n&&Math.abs(e[13]-t[13])<=n&&Math.abs(e[14]-t[14])<=n&&Math.abs(e[15]-t[15])<=n},A.getTranslation=function(e,t){return t.x=e[12],t.y=e[13],t.z=e[14],t},A.getMatrix3=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var D=new c,P=new c,N=new v,V=new v(0,0,0,1);A.inverse=function(e,t){var n=e[0],r=e[4],i=e[8],o=e[12],u=e[1],l=e[5],d=e[9],f=e[13],h=e[2],p=e[6],m=e[10],y=e[14],C=e[3],w=e[7],g=e[11],x=m*(Y=e[15]),E=p*Y,O=y*w,_=p*g,S=m*w,b=h*Y,M=h*g,R=m*C,T=h*w,z=p*C,q=x*l+O*d+_*f-((H=y*g)*l+E*d+S*f),I=H*u+b*d+R*f-(x*u+(Z=y*C)*d+M*f),U=E*u+Z*l+T*f-(O*u+b*l+z*f),F=S*u+M*l+z*d-(_*u+R*l+T*d),B=H*r+E*i+S*o-(x*r+O*i+_*o),L=x*n+Z*i+M*o-(H*n+b*i+R*o),k=O*n+b*r+z*o-(E*n+Z*r+T*o),W=_*n+R*r+T*i-(S*n+M*r+z*i),j=(x=i*f)*w+(O=o*l)*g+(_=r*d)*Y-((H=o*d)*w+(E=r*f)*g+(S=i*l)*Y),Y=(d=H*C+(b=n*f)*g+(R=i*u)*Y-(x*C+(Z=o*u)*g+(M=n*d)*Y),E*C+Z*w+(T=n*l)*Y-(O*C+b*w+(z=r*u)*Y)),H=(w=S*C+M*w+z*g-(_*C+R*w+T*g),g=E*m+S*y+H*p-(_*y+x*p+O*m),M*y+x*h+Z*m-(b*m+R*y+H*h)),Z=b*p+z*y+O*h-(T*y+E*h+Z*p);if(h=T*m+_*h+R*p-(M*p+z*m+S*h),o=n*q+r*I+i*U+o*F,Math.abs(o)<a.CesiumMath.EPSILON21){if(c.equalsEpsilon(A.getMatrix3(e,D),P,a.CesiumMath.EPSILON7)&&v.equals(A.getRow(e,3,N),V))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new s.RuntimeError("matrix is not invertible because its determinate is zero.")}return t[0]=q*(o=1/o),t[1]=I*o,t[2]=U*o,t[3]=F*o,t[4]=B*o,t[5]=L*o,t[6]=k*o,t[7]=W*o,t[8]=j*o,t[9]=d*o,t[10]=Y*o,t[11]=w*o,t[12]=g*o,t[13]=H*o,t[14]=Z*o,t[15]=h*o,t},A.inverseTransformation=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[4],s=e[5],o=e[6],u=e[8],l=e[9],c=e[10],d=e[12],f=e[13],h=-n*d-r*f-a*(p=e[14]),p=(e=-i*d-s*f-o*p,-u*d-l*f-c*p);return t[0]=n,t[1]=i,t[2]=u,t[3]=0,t[4]=r,t[5]=s,t[6]=l,t[7]=0,t[8]=a,t[9]=o,t[10]=c,t[11]=0,t[12]=h,t[13]=e,t[14]=p,t[15]=1,t};var F=new A;function B(e,n){this.center=t.Cartesian3.clone(r.defaultValue(e,t.Cartesian3.ZERO)),this.radius=r.defaultValue(n,0)}A.inverseTranspose=function(e,t){return A.inverse(A.transpose(e,F),t)},A.IDENTITY=Object.freeze(new A(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),A.ZERO=Object.freeze(new A(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),A.COLUMN0ROW0=0,A.COLUMN0ROW1=1,A.COLUMN0ROW2=2,A.COLUMN0ROW3=3,A.COLUMN1ROW0=4,A.COLUMN1ROW1=5,A.COLUMN1ROW2=6,A.COLUMN1ROW3=7,A.COLUMN2ROW0=8,A.COLUMN2ROW1=9,A.COLUMN2ROW2=10,A.COLUMN2ROW3=11,A.COLUMN3ROW0=12,A.COLUMN3ROW1=13,A.COLUMN3ROW2=14,A.COLUMN3ROW3=15,Object.defineProperties(A.prototype,{length:{get:function(){return A.packedLength}}}),A.prototype.clone=function(e){return A.clone(this,e)},A.prototype.equals=function(e){return A.equals(this,e)},A.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},A.prototype.equalsEpsilon=function(e,t){return A.equalsEpsilon(this,e,t)},A.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};var L=new t.Cartesian3,k=new t.Cartesian3,W=new t.Cartesian3,j=new t.Cartesian3,Y=new t.Cartesian3,H=new t.Cartesian3,Z=new t.Cartesian3,X=new t.Cartesian3,J=new t.Cartesian3,G=new t.Cartesian3,Q=new t.Cartesian3,K=new t.Cartesian3,$=4/3*a.CesiumMath.PI;B.fromPoints=function(e,n){if(r.defined(n)||(n=new B),!r.defined(e)||0===e.length)return n.center=t.Cartesian3.clone(t.Cartesian3.ZERO,n.center),n.radius=0,n;for(var a=t.Cartesian3.clone(e[0],Z),i=t.Cartesian3.clone(a,L),s=t.Cartesian3.clone(a,k),o=t.Cartesian3.clone(a,W),u=t.Cartesian3.clone(a,j),l=t.Cartesian3.clone(a,Y),c=t.Cartesian3.clone(a,H),d=e.length,f=1;f<d;f++){t.Cartesian3.clone(e[f],a);var h=a.x,p=a.y,m=a.z;h<i.x&&t.Cartesian3.clone(a,i),h>u.x&&t.Cartesian3.clone(a,u),p<s.y&&t.Cartesian3.clone(a,s),p>l.y&&t.Cartesian3.clone(a,l),m<o.z&&t.Cartesian3.clone(a,o),m>c.z&&t.Cartesian3.clone(a,c)}var y=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(u,i,X)),C=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(l,s,X)),w=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(c,o,X)),v=i,g=u,x=y;y<C&&(x=C,v=s,g=l),x<w&&(x=w,v=o,g=c);var E=J;E.x=.5*(v.x+g.x),E.y=.5*(v.y+g.y),E.z=.5*(v.z+g.z);var O=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(g,E,X)),_=Math.sqrt(O);(v=G).x=i.x,v.y=s.y,v.z=o.z,(g=Q).x=u.x,g.y=l.y,g.z=c.z;var S=t.Cartesian3.midpoint(v,g,K),b=0;for(f=0;f<d;f++){t.Cartesian3.clone(e[f],a);var A=t.Cartesian3.magnitude(t.Cartesian3.subtract(a,S,X));b<A&&(b=A);var M=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(a,E,X));O<M&&(O=(_=.5*(_+(A=Math.sqrt(M))))*_,E.x=(_*E.x+(M=A-_)*a.x)/A,E.y=(_*E.y+M*a.y)/A,E.z=(_*E.z+M*a.z)/A)}return _<b?(t.Cartesian3.clone(E,n.center),n.radius=_):(t.Cartesian3.clone(S,n.center),n.radius=b),n};var ee=new o,te=new t.Cartesian3,ne=new t.Cartesian3,re=new t.Cartographic,ae=new t.Cartographic;B.fromRectangle2D=function(e,t,n){return B.fromRectangleWithHeights2D(e,t,0,0,n)},B.fromRectangleWithHeights2D=function(e,n,a,i,s){if(r.defined(s)||(s=new B),!r.defined(e))return s.center=t.Cartesian3.clone(t.Cartesian3.ZERO,s.center),s.radius=0,s;n=r.defaultValue(n,ee),t.Rectangle.southwest(e,re),re.height=a,t.Rectangle.northeast(e,ae),ae.height=i;var o=n.project(re,te);return e=(a=n.project(ae,ne)).x-o.x,i=a.y-o.y,n=a.z-o.z,s.radius=.5*Math.sqrt(e*e+i*i+n*n),(a=s.center).x=o.x+.5*e,a.y=o.y+.5*i,a.z=o.z+.5*n,s};var ie=[];B.fromRectangle3D=function(e,n,a,i){return n=r.defaultValue(n,t.Ellipsoid.WGS84),a=r.defaultValue(a,0),r.defined(i)||(i=new B),r.defined(e)?(a=t.Rectangle.subsample(e,n,a,ie),B.fromPoints(a,i)):(i.center=t.Cartesian3.clone(t.Cartesian3.ZERO,i.center),i.radius=0,i)},B.fromVertices=function(e,n,a,i){if(r.defined(i)||(i=new B),!r.defined(e)||0===e.length)return i.center=t.Cartesian3.clone(t.Cartesian3.ZERO,i.center),i.radius=0,i;n=r.defaultValue(n,t.Cartesian3.ZERO),a=r.defaultValue(a,3);var s=Z;s.x=e[0]+n.x,s.y=e[1]+n.y,s.z=e[2]+n.z;for(var o=t.Cartesian3.clone(s,L),u=t.Cartesian3.clone(s,k),l=t.Cartesian3.clone(s,W),c=t.Cartesian3.clone(s,j),d=t.Cartesian3.clone(s,Y),f=t.Cartesian3.clone(s,H),h=e.length,p=0;p<h;p+=a){var m=e[p]+n.x,y=e[p+1]+n.y,C=e[p+2]+n.z;s.x=m,s.y=y,s.z=C,m<o.x&&t.Cartesian3.clone(s,o),m>c.x&&t.Cartesian3.clone(s,c),y<u.y&&t.Cartesian3.clone(s,u),y>d.y&&t.Cartesian3.clone(s,d),C<l.z&&t.Cartesian3.clone(s,l),C>f.z&&t.Cartesian3.clone(s,f)}var w=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(c,o,X)),v=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(d,u,X)),g=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(f,l,X)),x=o,E=c,O=w;w<v&&(O=v,x=u,E=d),O<g&&(O=g,x=l,E=f);var _=J;_.x=.5*(x.x+E.x),_.y=.5*(x.y+E.y),_.z=.5*(x.z+E.z);var S=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(E,_,X)),b=Math.sqrt(S);(x=G).x=o.x,x.y=u.y,x.z=l.z,(E=Q).x=c.x,E.y=d.y,E.z=f.z;var A=t.Cartesian3.midpoint(x,E,K),M=0;for(p=0;p<h;p+=a){s.x=e[p]+n.x,s.y=e[p+1]+n.y,s.z=e[p+2]+n.z;var R=t.Cartesian3.magnitude(t.Cartesian3.subtract(s,A,X));M<R&&(M=R);var T=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(s,_,X));S<T&&(S=(b=.5*(b+(R=Math.sqrt(T))))*b,_.x=(b*_.x+(T=R-b)*s.x)/R,_.y=(b*_.y+T*s.y)/R,_.z=(b*_.z+T*s.z)/R)}return b<M?(t.Cartesian3.clone(_,i.center),i.radius=b):(t.Cartesian3.clone(A,i.center),i.radius=M),i},B.fromEncodedCartesianVertices=function(e,n,a){if(r.defined(a)||(a=new B),!r.defined(e)||!r.defined(n)||e.length!==n.length||0===e.length)return a.center=t.Cartesian3.clone(t.Cartesian3.ZERO,a.center),a.radius=0,a;var i=Z;i.x=e[0]+n[0],i.y=e[1]+n[1],i.z=e[2]+n[2];for(var s=t.Cartesian3.clone(i,L),o=t.Cartesian3.clone(i,k),u=t.Cartesian3.clone(i,W),l=t.Cartesian3.clone(i,j),c=t.Cartesian3.clone(i,Y),d=t.Cartesian3.clone(i,H),f=e.length,h=0;h<f;h+=3){var p=e[h]+n[h],m=e[h+1]+n[h+1],y=e[h+2]+n[h+2];i.x=p,i.y=m,i.z=y,p<s.x&&t.Cartesian3.clone(i,s),p>l.x&&t.Cartesian3.clone(i,l),m<o.y&&t.Cartesian3.clone(i,o),m>c.y&&t.Cartesian3.clone(i,c),y<u.z&&t.Cartesian3.clone(i,u),y>d.z&&t.Cartesian3.clone(i,d)}var C=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(l,s,X)),w=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(c,o,X)),v=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(d,u,X)),g=s,x=l,E=C;C<w&&(E=w,g=o,x=c),E<v&&(E=v,g=u,x=d);var O=J;O.x=.5*(g.x+x.x),O.y=.5*(g.y+x.y),O.z=.5*(g.z+x.z);var _=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(x,O,X)),S=Math.sqrt(_);(g=G).x=s.x,g.y=o.y,g.z=u.z,(x=Q).x=l.x,x.y=c.y,x.z=d.z;var b=t.Cartesian3.midpoint(g,x,K),A=0;for(h=0;h<f;h+=3){i.x=e[h]+n[h],i.y=e[h+1]+n[h+1],i.z=e[h+2]+n[h+2];var M=t.Cartesian3.magnitude(t.Cartesian3.subtract(i,b,X));A<M&&(A=M);var R=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(i,O,X));_<R&&(_=(S=.5*(S+(M=Math.sqrt(R))))*S,O.x=(S*O.x+(R=M-S)*i.x)/M,O.y=(S*O.y+R*i.y)/M,O.z=(S*O.z+R*i.z)/M)}return S<A?(t.Cartesian3.clone(O,a.center),a.radius=S):(t.Cartesian3.clone(b,a.center),a.radius=A),a},B.fromCornerPoints=function(e,n,a){return r.defined(a)||(a=new B),e=t.Cartesian3.midpoint(e,n,a.center),a.radius=t.Cartesian3.distance(e,n),a},B.fromEllipsoid=function(e,n){return r.defined(n)||(n=new B),t.Cartesian3.clone(t.Cartesian3.ZERO,n.center),n.radius=e.maximumRadius,n};var se=new t.Cartesian3;B.fromBoundingSpheres=function(e,n){if(r.defined(n)||(n=new B),!r.defined(e)||0===e.length)return n.center=t.Cartesian3.clone(t.Cartesian3.ZERO,n.center),n.radius=0,n;var a=e.length;if(1===a)return B.clone(e[0],n);if(2===a)return B.union(e[0],e[1],n);for(var i=[],s=0;s<a;s++)i.push(e[s].center);var o=(n=B.fromPoints(i,n)).center,u=n.radius;for(s=0;s<a;s++){var l=e[s];u=Math.max(u,t.Cartesian3.distance(o,l.center,se)+l.radius)}return n.radius=u,n};var oe=new t.Cartesian3,ue=new t.Cartesian3,le=new t.Cartesian3;B.fromOrientedBoundingBox=function(e,n){r.defined(n)||(n=new B);var a=e.halfAxes,i=c.getColumn(a,0,oe),s=c.getColumn(a,1,ue);return a=c.getColumn(a,2,le),t.Cartesian3.add(i,s,i),t.Cartesian3.add(i,a,i),n.center=t.Cartesian3.clone(e.center,n.center),n.radius=t.Cartesian3.magnitude(i),n},B.clone=function(e,n){if(r.defined(e))return r.defined(n)?(n.center=t.Cartesian3.clone(e.center,n.center),n.radius=e.radius,n):new B(e.center,e.radius)},B.packedLength=4,B.pack=function(e,t,n){n=r.defaultValue(n,0);var a=e.center;return t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n]=e.radius,t},B.unpack=function(e,t,n){t=r.defaultValue(t,0);var a=(n=r.defined(n)?n:new B).center;return a.x=e[t++],a.y=e[t++],a.z=e[t++],n.radius=e[t],n};var ce=new t.Cartesian3,de=new t.Cartesian3;B.union=function(e,n,a){r.defined(a)||(a=new B);var i=e.center,s=e.radius,o=n.center,u=n.radius,l=t.Cartesian3.subtract(o,i,ce);return(o=t.Cartesian3.magnitude(l))+u<=s?(e.clone(a),a):o+s<=u?(n.clone(a),a):(u=.5*(s+o+u),o=t.Cartesian3.multiplyByScalar(l,(u-s)/o,de),t.Cartesian3.add(o,i,o),t.Cartesian3.clone(o,a.center),a.radius=u,a)};var fe=new t.Cartesian3;B.expand=function(e,n,r){return r=B.clone(e,r),(n=t.Cartesian3.magnitude(t.Cartesian3.subtract(n,r.center,fe)))>r.radius&&(r.radius=n),r},B.intersectPlane=function(e,n){var r=e.center,a=e.radius;return e=n.normal,(n=t.Cartesian3.dot(e,r)+n.distance)<-a?u.OUTSIDE:n<a?u.INTERSECTING:u.INSIDE},B.transform=function(e,t,n){return(n=r.defined(n)?n:new B).center=A.multiplyByPoint(t,e.center,n.center),n.radius=A.getMaximumScale(t)*e.radius,n};var he=new t.Cartesian3;B.distanceSquaredTo=function(e,n){return n=t.Cartesian3.subtract(e.center,n,he),(e=t.Cartesian3.magnitude(n)-e.radius)<=0?0:e*e},B.transformWithoutScale=function(e,t,n){return(n=r.defined(n)?n:new B).center=A.multiplyByPoint(t,e.center,n.center),n.radius=e.radius,n};var pe=new t.Cartesian3;B.computePlaneDistances=function(e,n,a,i){return r.defined(i)||(i=new l),n=t.Cartesian3.subtract(e.center,n,pe),n=t.Cartesian3.dot(a,n),i.start=n-e.radius,i.stop=n+e.radius,i};for(var me=new t.Cartesian3,ye=new t.Cartesian3,Ce=new t.Cartesian3,we=new t.Cartesian3,ve=new t.Cartesian3,ge=new t.Cartographic,xe=new Array(8),Ee=0;Ee<8;++Ee)xe[Ee]=new t.Cartesian3;var Oe,_e=new o;B.projectTo2D=function(e,n,a){var i=(n=r.defaultValue(n,_e)).ellipsoid,s=e.center,o=e.radius,u=t.Cartesian3.equals(s,t.Cartesian3.ZERO)?t.Cartesian3.clone(t.Cartesian3.UNIT_X,me):i.geodeticSurfaceNormal(s,me),l=t.Cartesian3.cross(t.Cartesian3.UNIT_Z,u,ye);t.Cartesian3.normalize(l,l);var c=t.Cartesian3.cross(u,l,Ce);t.Cartesian3.normalize(c,c),t.Cartesian3.multiplyByScalar(u,o,u),t.Cartesian3.multiplyByScalar(c,o,c),t.Cartesian3.multiplyByScalar(l,o,l);var d=t.Cartesian3.negate(c,ve),f=(e=t.Cartesian3.negate(l,we),xe);o=f[0],t.Cartesian3.add(u,c,o),t.Cartesian3.add(o,l,o),o=f[1],t.Cartesian3.add(u,c,o),t.Cartesian3.add(o,e,o),o=f[2],t.Cartesian3.add(u,d,o),t.Cartesian3.add(o,e,o),o=f[3],t.Cartesian3.add(u,d,o),t.Cartesian3.add(o,l,o),t.Cartesian3.negate(u,u),o=f[4],t.Cartesian3.add(u,c,o),t.Cartesian3.add(o,l,o),o=f[5],t.Cartesian3.add(u,c,o),t.Cartesian3.add(o,e,o),o=f[6],t.Cartesian3.add(u,d,o),t.Cartesian3.add(o,e,o),o=f[7],t.Cartesian3.add(u,d,o),t.Cartesian3.add(o,l,o);for(var h=f.length,p=0;p<h;++p){var m=f[p];t.Cartesian3.add(s,m,m);var y=i.cartesianToCartographic(m,ge);n.project(y,m)}return d=(s=(a=B.fromPoints(f,a)).center).x,l=s.y,o=s.z,s.x=o,s.y=d,s.z=l,a},B.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)},B.equals=function(e,n){return e===n||r.defined(e)&&r.defined(n)&&t.Cartesian3.equals(e.center,n.center)&&e.radius===n.radius},B.prototype.intersectPlane=function(e){return B.intersectPlane(this,e)},B.prototype.distanceSquaredTo=function(e){return B.distanceSquaredTo(this,e)},B.prototype.computePlaneDistances=function(e,t,n){return B.computePlaneDistances(this,e,t,n)},B.prototype.isOccluded=function(e){return B.isOccluded(this,e)},B.prototype.equals=function(e){return B.equals(this,e)},B.prototype.clone=function(e){return B.clone(this,e)},B.prototype.volume=function(){var e=this.radius;return $*e*e*e};var Se,be,Ae,Me,Re,Te,ze,qe,Ie,Ue,De,Pe,Ne,Ve,Fe,Be,Le,ke={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},We={};function je(e){for(var t=e.split("."),n=0,r=t.length;n<r;++n)t[n]=parseInt(t[n],10);return t}function Ye(){var e;return r.defined(be)||(be=!1,Je()||null!==(e=/ Chrome\/([\.0-9]+)/.exec(Se.userAgent))&&(be=!0,Ae=je(e[1]))),be}function He(){var e;return r.defined(Me)||(Me=!1,Ye()||Je()||!/ Safari\/[\.0-9]+/.test(Se.userAgent)||null!==(e=/ Version\/([\.0-9]+)/.exec(Se.userAgent))&&(Me=!0,Re=je(e[1]))),Me}function Ze(){var e;return r.defined(Te)||(Te=!1,null!==(e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(Se.userAgent))&&(Te=!0,(ze=je(e[1])).isNightly=!!e[2])),Te}function Xe(){var e;return r.defined(qe)||(qe=!1,"Microsoft Internet Explorer"===Se.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Se.userAgent))&&(qe=!0,Ie=je(e[1])):"Netscape"===Se.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Se.userAgent))&&(qe=!0,Ie=je(e[1]))),qe}function Je(){var e;return r.defined(Ue)||(Ue=!1,null!==(e=/ Edge\/([\.0-9]+)/.exec(Se.userAgent))&&(Ue=!0,De=je(e[1]))),Ue}function Ge(){var e;return r.defined(Pe)||(Pe=!1,null!==(e=/Firefox\/([\.0-9]+)/.exec(Se.userAgent))&&(Pe=!0,Ne=je(e[1]))),Pe}function Qe(){var e;return r.defined(Le)||((e=document.createElement("canvas")).setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;"),e=e.style.imageRendering,(Le=r.defined(e)&&""!==e)&&(Be=e)),Le}function Ke(){return Ke._result}Object.defineProperties(We,{element:{get:function(){if(We.supportsFullscreen())return document[ke.fullscreenElement]}},changeEventName:{get:function(){if(We.supportsFullscreen())return ke.fullscreenchange}},errorEventName:{get:function(){if(We.supportsFullscreen())return ke.fullscreenerror}},enabled:{get:function(){if(We.supportsFullscreen())return document[ke.fullscreenEnabled]}},fullscreen:{get:function(){if(We.supportsFullscreen())return null!==We.element}}}),We.supportsFullscreen=function(){if(r.defined(Oe))return Oe;Oe=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return ke.requestFullscreen="requestFullscreen",ke.exitFullscreen="exitFullscreen",ke.fullscreenEnabled="fullscreenEnabled",ke.fullscreenElement="fullscreenElement",ke.fullscreenchange="fullscreenchange",ke.fullscreenerror="fullscreenerror",Oe=!0;for(var t=["webkit","moz","o","ms","khtml"],n=0,a=t.length;n<a;++n){var i,s=t[n];"function"!=typeof e[i=s+"RequestFullscreen"]&&"function"!=typeof e[i=s+"RequestFullScreen"]||(ke.requestFullscreen=i,Oe=!0),i=s+"ExitFullscreen","function"==typeof document[i]?ke.exitFullscreen=i:(i=s+"CancelFullScreen","function"==typeof document[i]&&(ke.exitFullscreen=i)),i=s+"FullscreenEnabled",void 0!==document[i]?ke.fullscreenEnabled=i:(i=s+"FullScreenEnabled",void 0!==document[i]&&(ke.fullscreenEnabled=i)),i=s+"FullscreenElement",void 0!==document[i]?ke.fullscreenElement=i:(i=s+"FullScreenElement",void 0!==document[i]&&(ke.fullscreenElement=i)),i=s+"fullscreenchange",void 0!==document["on"+i]&&(ke.fullscreenchange=i="ms"===s?"MSFullscreenChange":i),i=s+"fullscreenerror",void 0!==document["on"+i]&&(ke.fullscreenerror=i="ms"===s?"MSFullscreenError":i)}return Oe},We.requestFullscreen=function(e,t){We.supportsFullscreen()&&e[ke.requestFullscreen]({vrDisplay:t})},We.exitFullscreen=function(){We.supportsFullscreen()&&document[ke.exitFullscreen]()},We._names=ke,Se="undefined"!=typeof navigator?navigator:{},Ke._promise=void 0,Ke._result=void 0,Ke.initialize=function(){if(r.defined(Ke._promise))return Ke._promise;var e=r.when.defer();if(Ke._promise=e.promise,Je())return Ke._result=!1,e.resolve(Ke._result),e.promise;var t=new Image;return t.onload=function(){Ke._result=0<t.width&&0<t.height,e.resolve(Ke._result)},t.onerror=function(){Ke._result=!1,e.resolve(Ke._result)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties(Ke,{initialized:{get:function(){return r.defined(Ke._result)}}}),S=[],"undefined"!=typeof ArrayBuffer&&(S.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&S.push(Uint8ClampedArray),"undefined"!=typeof Uint8ClampedArray&&S.push(Uint8ClampedArray),"undefined"!=typeof BigInt64Array&&S.push(BigInt64Array),"undefined"!=typeof BigUint64Array&&S.push(BigUint64Array));var $e={isChrome:Ye,chromeVersion:function(){return Ye()&&Ae},isSafari:He,safariVersion:function(){return He()&&Re},isWebkit:Ze,webkitVersion:function(){return Ze()&&ze},isInternetExplorer:Xe,internetExplorerVersion:function(){return Xe()&&Ie},isEdge:Je,edgeVersion:function(){return Je()&&De},isFirefox:Ge,firefoxVersion:function(){return Ge()&&Ne},isWindows:function(){return Ve=r.defined(Ve)?Ve:/Windows/i.test(Se.appVersion)},hardwareConcurrency:r.defaultValue(Se.hardwareConcurrency,3),supportsPointerEvents:function(){return Fe=r.defined(Fe)?Fe:!Ge()&&"undefined"!=typeof PointerEvent&&(!r.defined(Se.pointerEnabled)||Se.pointerEnabled)},supportsImageRenderingPixelated:Qe,supportsWebP:Ke,imageRenderingValue:function(){return Qe()?Be:void 0},typedArrayTypes:S};function et(e,t,n,a){this.x=r.defaultValue(e,0),this.y=r.defaultValue(t,0),this.z=r.defaultValue(n,0),this.w=r.defaultValue(a,0)}$e.supportsBasis=function(e){return $e.supportsWebAssembly()&&e.context.supportsBasis},$e.supportsFullscreen=function(){return We.supportsFullscreen()},$e.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},$e.supportsBigInt64Array=function(){return"undefined"!=typeof BigInt64Array},$e.supportsBigUint64Array=function(){return"undefined"!=typeof BigUint64Array},$e.supportsBigInt=function(){return"undefined"!=typeof BigInt},$e.supportsWebWorkers=function(){return"undefined"!=typeof Worker},$e.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!$e.isEdge()};var tt=new t.Cartesian3;et.fromAxisAngle=function(e,n,a){var i=n/2,s=Math.sin(i);return n=(tt=t.Cartesian3.normalize(e,tt)).x*s,e=tt.y*s,s=tt.z*s,i=Math.cos(i),r.defined(a)?(a.x=n,a.y=e,a.z=s,a.w=i,a):new et(n,e,s,i)};var nt=[1,2,0],rt=new Array(3);et.fromRotationMatrix=function(e,t){var n,a,i,s,o=e[c.COLUMN0ROW0],u=e[c.COLUMN1ROW1],l=e[c.COLUMN2ROW2],d=o+u+l,f=0<d?(i=.5*(s=Math.sqrt(d+1)),n=(e[c.COLUMN1ROW2]-e[c.COLUMN2ROW1])*(s=.5/s),a=(e[c.COLUMN2ROW0]-e[c.COLUMN0ROW2])*s,(e[c.COLUMN0ROW1]-e[c.COLUMN1ROW0])*s):(u=nt[o=nt[l=o<l&&u<l?2:o<u?1:0]],s=Math.sqrt(e[c.getElementIndex(l,l)]-e[c.getElementIndex(o,o)]-e[c.getElementIndex(u,u)]+1),(f=rt)[l]=.5*s,s=.5/s,i=(e[c.getElementIndex(u,o)]-e[c.getElementIndex(o,u)])*s,f[o]=(e[c.getElementIndex(o,l)]+e[c.getElementIndex(l,o)])*s,f[u]=(e[c.getElementIndex(u,l)]+e[c.getElementIndex(l,u)])*s,n=-f[0],a=-f[1],-f[2]);return r.defined(t)?(t.x=n,t.y=a,t.z=f,t.w=i,t):new et(n,a,f,i)};var at,it,st,ot=new et;new et,new et,new et,et.fromHeadingPitchRoll=function(e,n){return st=et.fromAxisAngle(t.Cartesian3.UNIT_X,e.roll,ot),it=et.fromAxisAngle(t.Cartesian3.UNIT_Y,-e.pitch,n),n=et.multiply(it,st,it),at=et.fromAxisAngle(t.Cartesian3.UNIT_Z,-e.heading,ot),et.multiply(at,n,n)};var ut=new t.Cartesian3,lt=new t.Cartesian3,ct=new et,dt=new et,ft=new et;et.packedLength=4,et.pack=function(e,t,n){return n=r.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.z,t[n]=e.w,t},et.unpack=function(e,t,n){return t=r.defaultValue(t,0),(n=r.defined(n)?n:new et).x=e[t],n.y=e[t+1],n.z=e[t+2],n.w=e[t+3],n},et.packedInterpolationLength=3,et.convertPackedArrayForInterpolation=function(e,t,n,a){et.unpack(e,4*n,ft),et.conjugate(ft,ft);for(var i=0,s=n-t+1;i<s;i++){var o=3*i;et.unpack(e,4*(t+i),ct),et.multiply(ct,ft,ct),ct.w<0&&et.negate(ct,ct),et.computeAxis(ct,ut);var u=et.computeAngle(ct);(a=r.defined(a)?a:[])[o]=ut.x*u,a[1+o]=ut.y*u,a[2+o]=ut.z*u}},et.unpackInterpolationResult=function(e,n,a,i,s){return r.defined(s)||(s=new et),t.Cartesian3.fromArray(e,0,lt),e=t.Cartesian3.magnitude(lt),et.unpack(n,4*i,dt),0===e?et.clone(et.IDENTITY,ct):et.fromAxisAngle(lt,e,ct),et.multiply(ct,dt,s)},et.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new et(e.x,e.y,e.z,e.w)},et.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},et.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},et.magnitude=function(e){return Math.sqrt(et.magnitudeSquared(e))},et.normalize=function(e,t){var n=1/et.magnitude(e),r=e.x*n,a=e.y*n,i=e.z*n;return n=e.w*n,t.x=r,t.y=a,t.z=i,t.w=n,t},et.inverse=function(e,t){var n=et.magnitudeSquared(e);return t=et.conjugate(e,t),et.multiplyByScalar(t,1/n,t)},et.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},et.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},et.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},et.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},et.multiply=function(e,t,n){var r=e.x,a=e.y,i=e.z,s=e.w,o=t.x,u=t.y,l=t.z,c=t.w,d=s*u-r*l+a*c+i*o;return e=s*l+r*u-a*o+i*c,t=s*c-r*o-a*u-i*l,n.x=s*o+r*c+a*l-i*u,n.y=d,n.z=e,n.w=t,n},et.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},et.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},et.computeAxis=function(e,t){var n=e.w;return Math.abs(n-1)<a.CesiumMath.EPSILON6?(t.x=t.y=t.z=0,t):(n=1/Math.sqrt(1-n*n),t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t)},et.computeAngle=function(e){return Math.abs(e.w-1)<a.CesiumMath.EPSILON6?0:2*Math.acos(e.w)};var ht=new et;et.lerp=function(e,t,n,r){return ht=et.multiplyByScalar(t,n,ht),r=et.multiplyByScalar(e,1-n,r),et.add(ht,r,r)};var pt=new et,mt=new et,yt=new et;et.slerp=function(e,t,n,r){var i=et.dot(e,t),s=t;return i<0&&(i=-i,s=pt=et.negate(t,pt)),1-i<a.CesiumMath.EPSILON6?et.lerp(e,s,n,r):(i=Math.acos(i),mt=et.multiplyByScalar(e,Math.sin((1-n)*i),mt),yt=et.multiplyByScalar(s,Math.sin(n*i),yt),r=et.add(mt,yt,r),et.multiplyByScalar(r,1/Math.sin(i),r))},et.log=function(e,n){var r=a.CesiumMath.acosClamped(e.w),i=0;return 0!==r&&(i=r/Math.sin(r)),t.Cartesian3.multiplyByScalar(e,i,n)},et.exp=function(e,n){var r=t.Cartesian3.magnitude(e),a=0;return 0!==r&&(a=Math.sin(r)/r),n.x=e.x*a,n.y=e.y*a,n.z=e.z*a,n.w=Math.cos(r),n};var Ct=new t.Cartesian3,wt=new t.Cartesian3,vt=new et,gt=new et;et.computeInnerQuadrangle=function(e,n,r,a){var i=et.conjugate(n,vt);return et.multiply(i,r,gt),r=et.log(gt,Ct),et.multiply(i,e,gt),e=et.log(gt,wt),t.Cartesian3.add(r,e,r),t.Cartesian3.multiplyByScalar(r,.25,r),t.Cartesian3.negate(r,r),et.exp(r,vt),et.multiply(n,vt,a)},et.squad=function(e,t,n,r,a,i){return t=et.slerp(e,t,a,vt),r=et.slerp(n,r,a,gt),et.slerp(t,r,2*a*(1-a),i)};for(var xt=new et,Et=(S=1.9011074535173003,$e.supportsTypedArrays()?new Float32Array(8):[]),Ot=$e.supportsTypedArrays()?new Float32Array(8):[],_t=$e.supportsTypedArrays()?new Float32Array(8):[],St=$e.supportsTypedArrays()?new Float32Array(8):[],bt=0;bt<7;++bt){var At=bt+1,Mt=2*At+1;Et[bt]=1/(At*Mt),Ot[bt]=At/Mt}function Rt(e,t,n){for(var r,a,i=0,s=e.length-1;i<=s;)if((a=n(e[r=~~((i+s)/2)],t))<0)i=1+r;else{if(!(0<a))return r;s=r-1}return~(s+1)}function Tt(e,t,n,r,a){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=n,this.yPoleOffset=r,this.ut1MinusUtc=a}function zt(){function e(e,t,n,r,a,o,u){var l=e>>>0;return e=(n=n&&l&&{2:"0b",8:"0",16:"0x"}[t]||"")+i(l.toString(t),o||0,"0",!1),s(e,n,r,a,u)}function t(e,t,n,r,a,i){return null!=r&&(e=e.slice(0,r)),s(e,"",t,n,a,i)}var n=arguments,r=0,a=n[r++],i=function(e,t,n,r){return n=n||" ",n=e.length>=t?"":Array(1+t-e.length>>>0).join(n),r?e+n:n+e},s=function(e,t,n,r,a,s){var o=r-e.length;return 0<o?n||!a?i(e,r,s,n):e.slice(0,t.length)+i("",o,"0",!0)+e.slice(t.length):e};return a.replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,(function(a,o,u,l,c,d,f){var h,p,m,y,C;if("%%"==a)return"%";for(var w=!1,v="",g=!1,x=!1,E=" ",O=u.length,_=0;u&&_<O;_++)switch(u.charAt(_)){case" ":v=" ";break;case"+":v="+";break;case"-":w=!0;break;case"'":E=u.charAt(_+1);break;case"0":g=!0;break;case"#":x=!0}if((l=l?"*"==l?+n[r++]:"*"==l.charAt(0)?+n[l.slice(1,-1)]:+l:0)<0&&(l=-l,w=!0),!isFinite(l))throw new Error("sprintf: (minimum-)width must be finite");switch(d=d?"*"==d?+n[r++]:"*"==d.charAt(0)?+n[d.slice(1,-1)]:+d:-1<"fFeE".indexOf(f)?6:"d"==f?0:void 0,C=o?n[o.slice(0,-1)]:n[r++],f){case"s":return t(String(C),w,l,d,g,E);case"c":return t(String.fromCharCode(+C),w,l,d,g);case"b":return e(C,2,x,w,l,d,g);case"o":return e(C,8,x,w,l,d,g);case"x":return e(C,16,x,w,l,d,g);case"X":return e(C,16,x,w,l,d,g).toUpperCase();case"u":return e(C,10,x,w,l,d,g);case"i":case"d":return h=+C||0,C=(p=(h=Math.round(h-h%1))<0?"-":v)+i(String(Math.abs(h)),d,"0",!1),s(C,p,w,l,g);case"e":case"E":case"f":case"F":case"g":case"G":return p=(h=+C)<0?"-":v,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],y=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],C=p+Math.abs(h)[m](d),s(C,p,w,l,g)[y]();default:return a}}))}function qt(e,t,n,r,a,i,s,o){this.year=e,this.month=t,this.day=n,this.hour=r,this.minute=a,this.second=i,this.millisecond=s,this.isLeapSecond=o}function It(e){return e%4==0&&e%100!=0||e%400==0}function Ut(e,t){this.julianDate=e,this.offset=t}Et[7]=S/136,Ot[7]=8*S/17,et.fastSlerp=function(e,t,n,r){var a;0<=(i=et.dot(e,t))?a=1:(a=-1,i=-i);for(var i,s=i-1,o=n*n,u=(i=1-n)*i,l=7;0<=l;--l)_t[l]=(Et[l]*o-Ot[l])*s,St[l]=(Et[l]*u-Ot[l])*s;return n=a*n*(1+_t[0]*(1+_t[1]*(1+_t[2]*(1+_t[3]*(1+_t[4]*(1+_t[5]*(1+_t[6]*(1+_t[7])))))))),i*=1+St[0]*(1+St[1]*(1+St[2]*(1+St[3]*(1+St[4]*(1+St[5]*(1+St[6]*(1+St[7]))))))),i=et.multiplyByScalar(e,i,xt),et.multiplyByScalar(t,n,r),et.add(i,r,r)},et.fastSquad=function(e,t,n,r,a,i){return t=et.fastSlerp(e,t,a,vt),r=et.fastSlerp(n,r,a,gt),et.fastSlerp(t,r,2*a*(1-a),i)},et.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},et.equalsEpsilon=function(e,t,n){return n=r.defaultValue(n,0),e===t||r.defined(e)&&r.defined(t)&&Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n&&Math.abs(e.z-t.z)<=n&&Math.abs(e.w-t.w)<=n},et.ZERO=Object.freeze(new et(0,0,0,0)),et.IDENTITY=Object.freeze(new et(0,0,0,1)),et.prototype.clone=function(e){return et.clone(this,e)},et.prototype.equals=function(e){return et.equals(this,e)},et.prototype.equalsEpsilon=function(e,t){return et.equalsEpsilon(this,e,t)},et.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var Dt=Object.freeze({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5}),Pt=Object.freeze({UTC:0,TAI:1}),Nt=new qt,Vt=[31,28,31,30,31,30,31,31,30,31,30,31];function Ft(e,t){return $t.compare(e.julianDate,t.julianDate)}var Bt=new Ut;function Lt(e){Bt.julianDate=e;var t=$t.leapSeconds,n=Rt(t,Bt,Ft),r=t[n=(n=n<0?~n:n)>=t.length?t.length-1:n].offset;0<n&&r<$t.secondsDifference(t[n].julianDate,e)&&(r=t[--n].offset),$t.addSeconds(e,r,e)}function kt(e,t){Bt.julianDate=e;var n=$t.leapSeconds,r=Rt(n,Bt,Ft);if(0===(r=r<0?~r:r))return $t.addSeconds(e,-n[0].offset,t);if(r>=n.length)return $t.addSeconds(e,-n[r-1].offset,t);var a=$t.secondsDifference(n[r].julianDate,e);return 0===a?$t.addSeconds(e,-n[r].offset,t):a<=1?void 0:$t.addSeconds(e,-n[--r].offset,t)}function Wt(e,t,n){var r=t/Dt.SECONDS_PER_DAY|0;return e+=r,(t-=Dt.SECONDS_PER_DAY*r)<0&&(e--,t+=Dt.SECONDS_PER_DAY),n.dayNumber=e,n.secondsOfDay=t,n}function jt(e,t,n,r,a,i,s){var o=(t-14)/12|0;return n=(1461*(e=e+4800+o)/4|0)+(367*(t-2-12*o)/12|0)-(3*((e+100)/100|0)/4|0)+n-32075,(r-=12)<0&&(r+=24),43200<=(s=i+(r*Dt.SECONDS_PER_HOUR+a*Dt.SECONDS_PER_MINUTE+s*Dt.SECONDS_PER_MILLISECOND))&&--n,[n,s]}var Yt=/^(\d{4})$/,Ht=/^(\d{4})-(\d{2})$/,Zt=/^(\d{4})-?(\d{3})$/,Xt=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,Jt=/^(\d{4})-?(\d{2})-?(\d{2})$/,Gt=/^(\d{2})(\.\d+)?/.source+(S=/([Z+\-])?(\d{2})?:?(\d{2})?$/).source,Qt=/^(\d{2}):?(\d{2})(\.\d+)?/.source+S.source,Kt=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+S.source;function $t(e,t,n){this.dayNumber=void 0,this.secondsOfDay=void 0,e=r.defaultValue(e,0),t=r.defaultValue(t,0),n=r.defaultValue(n,Pt.UTC);var a=0|e;Wt(a,t+=(e-a)*Dt.SECONDS_PER_DAY,this),n===Pt.UTC&&Lt(this)}$t.fromGregorianDate=function(e,t){return e=jt(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond),r.defined(t)?(Wt(e[0],e[1],t),Lt(t),t):new $t(e[0],e[1],Pt.UTC)},$t.fromDate=function(e,t){return e=jt(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r.defined(t)?(Wt(e[0],e[1],t),Lt(t),t):new $t(e[0],e[1],Pt.UTC)},$t.fromIso8601=function(e,t){var n,a,i,s,o,u=(e=e.replace(",",".")).split("T"),l=1,c=1,d=0,f=0,h=0,p=0,m=u[0];if(e=u[1],null!==(u=m.match(Jt))?(i=+u[1],l=+u[2],c=+u[3]):null!==(u=m.match(Ht))?(i=+u[1],l=+u[2]):null!==(u=m.match(Yt))?i=+u[1]:(null!==(u=m.match(Zt))?(i=+u[1],s=+u[2],a=It(i)):null!==(u=m.match(Xt))&&(i=+u[1],s=7*+u[2]+(+u[3]||0)-new Date(Date.UTC(i,0,4)).getUTCDay()-3),(n=new Date(Date.UTC(i,0,1))).setUTCDate(s),l=n.getUTCMonth()+1,c=n.getUTCDate()),a=It(i),r.defined(e)){null!==(u=e.match(Kt))?(d=+u[1],f=+u[2],h=+u[3],p=1e3*+(u[4]||0),o=5):null!==(u=e.match(Qt))?(d=+u[1],f=+u[2],h=60*+(u[3]||0),o=4):null!==(u=e.match(Gt))&&(d=+u[1],f=60*+(u[2]||0),o=3);var y=u[o],C=+u[o+1],w=+(u[o+2]||0);switch(y){case"+":d-=C,f-=w;break;case"-":d+=C,f+=w;break;case"Z":break;default:f+=new Date(Date.UTC(i,l-1,c,d,f)).getTimezoneOffset()}}for((y=60===h)&&h--;60<=f;)f-=60,d++;for(;24<=d;)d-=24,c++;for(n=a&&2===l?29:Vt[l-1];n<c;)c-=n,12<++l&&(l-=12,i++),n=a&&2===l?29:Vt[l-1];for(;f<0;)f+=60,d--;for(;d<0;)d+=24,c--;for(;c<1;)--l<1&&(l+=12,i--),c+=n=a&&2===l?29:Vt[l-1];return p=jt(i,l,c,d,f,h,p),r.defined(t)?(Wt(p[0],p[1],t),Lt(t)):t=new $t(p[0],p[1],Pt.UTC),y&&$t.addSeconds(t,1,t),t},$t.now=function(e){return $t.fromDate(new Date,e)};var en=new $t(0,0,Pt.TAI);function tn(e){e instanceof tn?(this.scheme=e.scheme,this.authority=e.authority,this.path=e.path,this.query=e.query,this.fragment=e.fragment):e&&(e=nn.exec(e),this.scheme=e[1],this.authority=e[2],this.path=e[3],this.query=e[4],this.fragment=e[5])}$t.toGregorianDate=function(e,t){var n=!1,a=kt(e,en);r.defined(a)||($t.addSeconds(e,-1,en),a=kt(en,en),n=!0);var i=a.dayNumber;43200<=(l=a.secondsOfDay)&&(i+=1);var s,o,u=4e3*(1+(o=(o=i+68569|0)-((146097*(s=4*o/146097|0)+3)/4|0)|0))/1461001|0,l=(e=80*(o=o-(1461*u/4|0)+31|0)/2447|0,a=o-(2447*e/80|0)|0,i=2+e-12*(o=e/11|0)|0,e=100*(s-49)+u+o|0,u=l-(s=l/Dt.SECONDS_PER_HOUR|0)*Dt.SECONDS_PER_HOUR,0|(u-=(o=u/Dt.SECONDS_PER_MINUTE|0)*Dt.SECONDS_PER_MINUTE));return u=(u-l)/Dt.SECONDS_PER_MILLISECOND,23<(s+=12)&&(s-=24),n&&(l+=1),r.defined(t)?(t.year=e,t.month=i,t.day=a,t.hour=s,t.minute=o,t.second=l,t.millisecond=u,t.isLeapSecond=n,t):new qt(e,i,a,s,o,l,u,n)},$t.toDate=function(e){var t=$t.toGregorianDate(e,Nt);return e=t.second,t.isLeapSecond&&--e,new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,e,t.millisecond))},$t.toIso8601=function(e,t){var n=(u=$t.toGregorianDate(e,Nt)).year,a=u.month,i=u.day,s=u.hour,o=u.minute,u=(e=u.second,u.millisecond);return 1e4===n&&1===a&&1===i&&0===s&&0===o&&0===e&&0===u&&(n=9999,a=12,i=31,s=24),r.defined(t)||0===u?r.defined(t)&&0!==t?zt("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n,a,i,s,o,e,(.01*u).toFixed(t).replace(".","").slice(0,t)):zt("%04d-%02d-%02dT%02d:%02d:%02dZ",n,a,i,s,o,e):zt("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n,a,i,s,o,e,(.01*u).toString().replace(".",""))},$t.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new $t(e.dayNumber,e.secondsOfDay,Pt.TAI)},$t.compare=function(e,t){var n=e.dayNumber-t.dayNumber;return 0!=n?n:e.secondsOfDay-t.secondsOfDay},$t.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},$t.equalsEpsilon=function(e,t,n){return n=r.defaultValue(n,0),e===t||r.defined(e)&&r.defined(t)&&Math.abs($t.secondsDifference(e,t))<=n},$t.totalDays=function(e){return e.dayNumber+e.secondsOfDay/Dt.SECONDS_PER_DAY},$t.secondsDifference=function(e,t){return(e.dayNumber-t.dayNumber)*Dt.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},$t.daysDifference=function(e,t){return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/Dt.SECONDS_PER_DAY},$t.computeTaiMinusUtc=function(e){Bt.julianDate=e;var t=$t.leapSeconds;return(e=Rt(t,Bt,Ft))<0&&(e=~e,--e<0&&(e=0)),t[e].offset},$t.addSeconds=function(e,t,n){return Wt(e.dayNumber,e.secondsOfDay+t,n)},$t.addMinutes=function(e,t,n){return t=e.secondsOfDay+t*Dt.SECONDS_PER_MINUTE,Wt(e.dayNumber,t,n)},$t.addHours=function(e,t,n){return t=e.secondsOfDay+t*Dt.SECONDS_PER_HOUR,Wt(e.dayNumber,t,n)},$t.addDays=function(e,t,n){return Wt(e.dayNumber+t,e.secondsOfDay,n)},$t.lessThan=function(e,t){return $t.compare(e,t)<0},$t.lessThanOrEquals=function(e,t){return $t.compare(e,t)<=0},$t.greaterThan=function(e,t){return 0<$t.compare(e,t)},$t.greaterThanOrEquals=function(e,t){return 0<=$t.compare(e,t)},$t.prototype.clone=function(e){return $t.clone(this,e)},$t.prototype.equals=function(e){return $t.equals(this,e)},$t.prototype.equalsEpsilon=function(e,t){return $t.equalsEpsilon(this,e,t)},$t.prototype.toString=function(){return $t.toIso8601(this)},$t.leapSeconds=[new Ut(new $t(2441317,43210,Pt.TAI),10),new Ut(new $t(2441499,43211,Pt.TAI),11),new Ut(new $t(2441683,43212,Pt.TAI),12),new Ut(new $t(2442048,43213,Pt.TAI),13),new Ut(new $t(2442413,43214,Pt.TAI),14),new Ut(new $t(2442778,43215,Pt.TAI),15),new Ut(new $t(2443144,43216,Pt.TAI),16),new Ut(new $t(2443509,43217,Pt.TAI),17),new Ut(new $t(2443874,43218,Pt.TAI),18),new Ut(new $t(2444239,43219,Pt.TAI),19),new Ut(new $t(2444786,43220,Pt.TAI),20),new Ut(new $t(2445151,43221,Pt.TAI),21),new Ut(new $t(2445516,43222,Pt.TAI),22),new Ut(new $t(2446247,43223,Pt.TAI),23),new Ut(new $t(2447161,43224,Pt.TAI),24),new Ut(new $t(2447892,43225,Pt.TAI),25),new Ut(new $t(2448257,43226,Pt.TAI),26),new Ut(new $t(2448804,43227,Pt.TAI),27),new Ut(new $t(2449169,43228,Pt.TAI),28),new Ut(new $t(2449534,43229,Pt.TAI),29),new Ut(new $t(2450083,43230,Pt.TAI),30),new Ut(new $t(2450630,43231,Pt.TAI),31),new Ut(new $t(2451179,43232,Pt.TAI),32),new Ut(new $t(2453736,43233,Pt.TAI),33),new Ut(new $t(2454832,43234,Pt.TAI),34),new Ut(new $t(2456109,43235,Pt.TAI),35),new Ut(new $t(2457204,43236,Pt.TAI),36),new Ut(new $t(2457754,43237,Pt.TAI),37)],tn.prototype.scheme=null,tn.prototype.authority=null,tn.prototype.path="",tn.prototype.query=null,tn.prototype.fragment=null;var nn=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");tn.prototype.getScheme=function(){return this.scheme},tn.prototype.getAuthority=function(){return this.authority},tn.prototype.getPath=function(){return this.path},tn.prototype.getQuery=function(){return this.query},tn.prototype.getFragment=function(){return this.fragment},tn.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},tn.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},tn.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},tn.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(sn,un).replace(rn,on)),this.path&&(this.path=this.path.replace(rn,on)),this.query&&(this.query=this.query.replace(rn,on)),this.fragment&&(this.fragment=this.fragment.replace(rn,on))};var rn=/%[0-9a-z]{2}/gi,an=/[a-zA-Z0-9\-\._~]/,sn=/(.*@)?([^@:]*)(:.*)?/;function on(e){var t=unescape(e);return an.test(t)?t:e.toUpperCase()}function un(e,t,n,r){return(t||"")+n.toLowerCase()+(r||"")}function ln(e,t){if(null===e||"object"!=typeof e)return e;t=r.defaultValue(t,!1);var n,a,i=new e.constructor;for(n in e)e.hasOwnProperty(n)&&(a=e[n],t&&(a=ln(a,t)),i[n]=a);return i}function cn(e,t){var n;return"undefined"!=typeof document&&(n=document),cn._implementation(e,t,n)}tn.prototype.resolve=function(e){var t=new tn;return this.scheme?(t.scheme=this.scheme,t.authority=this.authority,t.path=this.path,t.query=this.query):(t.scheme=e.scheme,this.authority?(t.authority=this.authority,t.path=this.path,t.query=this.query):(t.authority=e.authority,""==this.path?(t.path=e.path,t.query=this.query||e.query):("/"==this.path.charAt(0)?t.path=this.path:e.authority&&""==e.path?t.path="/"+this.path:t.path=e.path.substring(0,e.path.lastIndexOf("/")+1)+this.path,t.removeDotSegments(),t.query=this.query))),t.fragment=this.fragment,t},tn.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),n=[],r=""==t[0];for(r&&t.shift(),""==t[0]&&t.shift();t.length;)".."==(e=t.shift())?n.pop():"."!=e&&n.push(e);"."!=e&&".."!=e||n.push(""),r&&n.unshift(""),this.path=n.join("/")},tn.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},cn._implementation=function(e,t,n){if(!r.defined(t)){if(void 0===n)return e;t=r.defaultValue(n.baseURI,n.location.href)}return t=new tn(t),new tn(e).resolve(t).toString()};var dn,fn=/^blob:/i;function hn(e){return fn.test(e)}var pn=/^data:/i;function mn(e){return pn.test(e)}var yn=Object.freeze({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5}),Cn=Object.freeze({TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3});function wn(e){e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT);var t=r.defaultValue(e.throttleByServer,!1),n=r.defaultValue(e.throttle,!1);this.url=e.url,this.requestFunction=e.requestFunction,this.cancelFunction=e.cancelFunction,this.priorityFunction=e.priorityFunction,this.priority=r.defaultValue(e.priority,0),this.throttle=n,this.throttleByServer=t,this.type=r.defaultValue(e.type,Cn.OTHER),this.serverKey=void 0,this.state=yn.UNISSUED,this.deferred=void 0,this.cancelled=!1}function vn(e,t,n){this.statusCode=e,this.response=t,this.responseHeaders=n,"string"==typeof this.responseHeaders&&(this.responseHeaders=function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0;r<n.length;++r){var a,i=n[r],s=i.indexOf(": ");0<s&&(a=i.substring(0,s),s=i.substring(s+2),t[a]=s)}return t}(this.responseHeaders))}function gn(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function xn(e,t){return t-e}function En(e){this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function On(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}wn.prototype.cancel=function(){this.cancelled=!0},wn.prototype.clone=function(e){return r.defined(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new wn(this)},vn.prototype.toString=function(){var e="Request has failed.";return r.defined(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},Object.defineProperties(gn.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),gn.prototype.addEventListener=function(e,t){this._listeners.push(e),this._scopes.push(t);var n=this;return function(){n.removeEventListener(e,t)}},gn.prototype.removeEventListener=function(e,t){for(var n=this._listeners,r=this._scopes,a=-1,i=0;i<n.length;i++)if(n[i]===e&&r[i]===t){a=i;break}return-1!==a&&(this._insideRaiseEvent?(this._toRemove.push(a),n[a]=void 0,r[a]=void 0):(n.splice(a,1),r.splice(a,1)),!0)},gn.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;for(var e=this._listeners,t=this._scopes,n=e.length,a=0;a<n;a++){var i=e[a];r.defined(i)&&e[a].apply(t[a],arguments)}var s=this._toRemove;if(0<(n=s.length)){for(s.sort(xn),a=0;a<n;a++){var o=s[a];e.splice(o,1),t.splice(o,1)}s.length=0}this._insideRaiseEvent=!1},Object.defineProperties(En.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){var t=this._length;if(e<t){for(var n=this._array,r=e;r<t;++r)n[r]=void 0;this._length=e,n.length=e}this._maximumLength=e}},comparator:{get:function(){return this._comparator}}}),En.prototype.reserve=function(e){e=r.defaultValue(e,this._length),this._array.length=e},En.prototype.heapify=function(e){e=r.defaultValue(e,0);for(var t=this._length,n=this._comparator,a=this._array,i=-1,s=!0;s;){var o=2*(e+1),u=o-1;i=u<t&&n(a[u],a[e])<0?u:e,(i=o<t&&n(a[o],a[i])<0?o:i)!==e?(On(a,i,e),e=i):s=!1}},En.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);0<=t;--t)this.heapify(t)},En.prototype.insert=function(e){var t,n=this._array,a=this._comparator,i=this._maximumLength,s=this._length++;for(s<n.length?n[s]=e:n.push(e);0!==s;){var o=Math.floor((s-1)/2);if(!(a(n[s],n[o])<0))break;On(n,s,o),s=o}return r.defined(i)&&this._length>i&&(t=n[i],this._length=i),t},En.prototype.pop=function(e){if(e=r.defaultValue(e,0),0!==this._length){var t=this._array,n=t[e];return On(t,e,--this._length),this.heapify(e),t[this._length]=void 0,n}};var _n={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0,lastNumberOfActiveRequests:0},Sn=20,bn=new En({comparator:function(e,t){return e.priority-t.priority}});bn.maximumLength=Sn,bn.reserve(Sn);var An=[],Mn={},Rn="undefined"!=typeof document?new tn(document.location.href):new tn,Tn=new gn;function zn(){}function qn(e){r.defined(e.priorityFunction)&&(e.priority=e.priorityFunction())}function In(e){return e.state===yn.UNISSUED&&(e.state=yn.ISSUED,e.deferred=r.when.defer()),e.deferred.promise}function Un(e){var t,n,r=In(e);return e.state=yn.ACTIVE,An.push(e),++_n.numberOfActiveRequests,++_n.numberOfActiveRequestsEver,++Mn[e.serverKey],e.requestFunction().then((n=e,function(e){var t;n.state!==yn.CANCELLED&&(t=n.deferred,--_n.numberOfActiveRequests,--Mn[n.serverKey],Tn.raiseEvent(),n.state=yn.RECEIVED,n.deferred=void 0,t.resolve(e))})).otherwise((t=e,function(e){t.state!==yn.CANCELLED&&(++_n.numberOfFailedRequests,--_n.numberOfActiveRequests,--Mn[t.serverKey],Tn.raiseEvent(e),t.state=yn.FAILED,t.deferred.reject(e))})),r}function Dn(e){var t,n=e.state===yn.ACTIVE;e.state=yn.CANCELLED,++_n.numberOfCancelledRequests,r.defined(e.deferred)&&(t=e.deferred,e.deferred=void 0,t.reject()),n&&(--_n.numberOfActiveRequests,--Mn[e.serverKey],++_n.numberOfCancelledActiveRequests),r.defined(e.cancelFunction)&&e.cancelFunction()}zn.maximumRequests=50,zn.maximumRequestsPerServer=6,zn.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},zn.throttleRequests=!0,zn.debugShowStatistics=!1,zn.requestCompletedEvent=Tn,Object.defineProperties(zn,{statistics:{get:function(){return _n}},priorityHeapLength:{get:function(){return Sn},set:function(e){if(e<Sn)for(;bn.length>e;)Dn(bn.pop());Sn=e,bn.maximumLength=e,bn.reserve(e)}}}),zn.serverHasOpenSlots=function(e,t){t=r.defaultValue(t,1);var n=r.defaultValue(zn.requestsByServer[e],zn.maximumRequestsPerServer);return Mn[e]+t<=n},zn.heapHasOpenSlots=function(e){return bn.length+e<=Sn},zn.update=function(){for(var e,t=0,n=An.length,r=0;r<n;++r)(e=An[r]).cancelled&&Dn(e),e.state===yn.ACTIVE?0<t&&(An[r-t]=e):++t;An.length-=t;var a=bn.internalArray,i=bn.length;for(r=0;r<i;++r)qn(a[r]);bn.resort();for(var s=Math.max(zn.maximumRequests-An.length,0),o=0;o<s&&0<bn.length;)(e=bn.pop()).cancelled||e.throttleByServer&&!zn.serverHasOpenSlots(e.serverKey)?Dn(e):(Un(e),++o);zn.debugShowStatistics&&(0===_n.numberOfActiveRequests&&0<_n.lastNumberOfActiveRequests&&(0<_n.numberOfAttemptedRequests&&(console.log("Number of attempted requests: "+_n.numberOfAttemptedRequests),_n.numberOfAttemptedRequests=0),0<_n.numberOfCancelledRequests&&(console.log("Number of cancelled requests: "+_n.numberOfCancelledRequests),_n.numberOfCancelledRequests=0),0<_n.numberOfCancelledActiveRequests&&(console.log("Number of cancelled active requests: "+_n.numberOfCancelledActiveRequests),_n.numberOfCancelledActiveRequests=0),0<_n.numberOfFailedRequests&&(console.log("Number of failed requests: "+_n.numberOfFailedRequests),_n.numberOfFailedRequests=0)),_n.lastNumberOfActiveRequests=_n.numberOfActiveRequests)},zn.getServerKey=function(e){var t=new tn(e).resolve(Rn);return t.normalize(),e=t.authority,/:/.test(e)||(e=e+":"+("https"===t.scheme?"443":"80")),t=Mn[e],r.defined(t)||(Mn[e]=0),e},zn.request=function(e){if(mn(e.url)||hn(e.url))return Tn.raiseEvent(),e.state=yn.RECEIVED,e.requestFunction();if(++_n.numberOfAttemptedRequests,r.defined(e.serverKey)||(e.serverKey=zn.getServerKey(e.url)),!zn.throttleRequests||!e.throttleByServer||zn.serverHasOpenSlots(e.serverKey)){if(!zn.throttleRequests||!e.throttle)return Un(e);if(!(An.length>=zn.maximumRequests)){qn(e);var t=bn.insert(e);if(r.defined(t)){if(t===e)return;Dn(t)}return In(e)}}},zn.clearForSpecs=function(){for(;0<bn.length;)Dn(bn.pop());for(var e=An.length,t=0;t<e;++t)Dn(An[t]);An.length=0,Mn={},_n.numberOfAttemptedRequests=0,_n.numberOfActiveRequests=0,_n.numberOfCancelledRequests=0,_n.numberOfCancelledActiveRequests=0,_n.numberOfFailedRequests=0,_n.numberOfActiveRequestsEver=0,_n.lastNumberOfActiveRequests=0},zn.numberOfActiveRequestsByServer=function(e){return Mn[e]},zn.requestHeap=bn;var Pn={},Nn={};Pn.add=function(e,t){t=e.toLowerCase()+":"+t,r.defined(Nn[t])||(Nn[t]=!0)},Pn.remove=function(e,t){t=e.toLowerCase()+":"+t,r.defined(Nn[t])&&delete Nn[t]},Pn.contains=function(e){return e=function(e){var t=new tn(e);if(t.normalize(),e=t.getAuthority(),r.defined(e)){if(-1===(e=-1!==e.indexOf("@")?e.split("@")[1]:e).indexOf(":"))if(t=t.getScheme(),"http"===(t=r.defined(t)?t:(t=window.location.protocol).substring(0,t.length-1)))e+=":80";else{if("https"!==t)return;e+=":443"}return e}}(e),!(!r.defined(e)||!r.defined(Nn[e]))},Pn.clear=function(){Nn={}};var Vn,Fn=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),(e.responseType="blob")===e.responseType}catch(e){return!1}}();function Bn(e,t,n,a){var i,s=e.query;if(!r.defined(s)||0===s.length)return 1;s=-1===s.indexOf("=")?((i={})[s]=void 0,i):function(e){var t={};if(""===e)return t;for(var n=e.replace(/\+/g,"%20").split(/[&;]/),a=0,i=n.length;a<i;++a){var s=n[a].split("="),o=decodeURIComponent(s[0]),u=s[1];u=r.defined(u)?decodeURIComponent(u):"","string"==typeof(s=t[o])?t[o]=[s,u]:Array.isArray(s)?s.push(u):t[o]=u}return t}(s),t._queryParameters=n?Wn(s,t._queryParameters,a):s,e.query=void 0}function Ln(e,t){return r.defined(e)?r.defined(e.clone)?e.clone():ln(e):t}function kn(e){if(e.state===yn.ISSUED||e.state===yn.ACTIVE)throw new s.RuntimeError("The Resource is already being fetched.");e.state=yn.UNISSUED,e.deferred=void 0}function Wn(e,t,n){if(!n)return i.combine(e,t);var a,s,o,u=ln(e,!0);for(a in t)t.hasOwnProperty(a)&&(s=u[a],o=t[a],r.defined(s)?(Array.isArray(s)||(s=u[a]=[s]),u[a]=s.concat(o)):u[a]=Array.isArray(o)?o.slice():o);return u}function jn(e){"string"==typeof(e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT))&&(e={url:e}),this._url=void 0,this._templateValues=Ln(e.templateValues,{}),this._queryParameters=Ln(e.queryParameters,{}),this.headers=Ln(e.headers,{}),this.request=r.defaultValue(e.request,new wn),this.proxy=e.proxy,this.retryCallback=e.retryCallback,this.retryAttempts=r.defaultValue(e.retryAttempts,0),this._retryCount=0,Bn(e=new tn(e.url),this,!0,!0),e.fragment=void 0,this._url=e.toString()}function Yn(e){var t=e.resource,n=e.flipY,a=e.skipColorSpaceConversion,i=e.preferImageBitmap,s=t.request;if(s.url=t.url,s.requestFunction=function(){var e=!1;t.isDataUri||t.isBlobUri||(e=t.isCrossOriginUrl);var o=r.when.defer();return jn._Implementations.createImage(s,e,o,n,a,i),o.promise},e=zn.request(s),r.defined(e))return e.otherwise((function(e){return s.state!==yn.FAILED?r.when.reject(e):t.retryOnError(e).then((function(o){return o?(s.state=yn.UNISSUED,s.deferred=void 0,Yn({resource:t,flipY:n,skipColorSpaceConversion:a,preferImageBitmap:i})):r.when.reject(e)}))}))}jn.createIfNeeded=function(e){return e instanceof jn?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new jn({url:e})},jn.supportsImageBitmapOptions=function(){return r.defined(Vn)?Vn:Vn="function"!=typeof createImageBitmap?r.when.resolve(!1):jn.fetchBlob({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWP4////fwAJ+wP9CNHoHgAAAABJRU5ErkJggg=="}).then((function(e){return createImageBitmap(e,{imageOrientation:"flipY",premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){return!0})).otherwise((function(){return!1}))},Object.defineProperties(jn,{isBlobSupported:{get:function(){return Fn}}}),Object.defineProperties(jn.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){return this.getUrlComponent(!0,!0)},set:function(e){Bn(e=new tn(e),this,!1),e.fragment=void 0,this._url=e.toString()}},extension:{get:function(){return(t=new tn(e=this._url)).normalize(),-1===(t=(e=-1!==(t=(e=t.path).lastIndexOf("/"))?e.substr(t+1):e).lastIndexOf("."))?"":e.substr(t+1);var e,t}},isDataUri:{get:function(){return mn(this._url)}},isBlobUri:{get:function(){return hn(this._url)}},isCrossOriginUrl:{get:function(){return function(e){(dn=r.defined(dn)?dn:document.createElement("a")).href=window.location.href;var t=dn.host,n=dn.protocol;return dn.href=e,dn.href=dn.href,n!==dn.protocol||t!==dn.host}(this._url)}},hasHeaders:{get:function(){return 0<Object.keys(this.headers).length}}}),jn.prototype.toString=function(){return this.getUrlComponent(!0,!0)},jn.prototype.getUrlComponent=function(e,t){if(this.isDataUri)return this._url;var n=new tn(this._url);e&&function(e,t){var n=t._queryParameters;1!==(t=Object.keys(n)).length||r.defined(n[t[0]])?e.query=function(e){var t,n="";for(t in e)if(e.hasOwnProperty(t)){var r=e[t],a=encodeURIComponent(t)+"=";if(Array.isArray(r))for(var i=0,s=r.length;i<s;++i)n+=a+encodeURIComponent(r[i])+"&";else n+=a+encodeURIComponent(r)+"&"}return n.slice(0,-1)}(n):e.query=t[0]}(n,this),n=n.toString().replace(/%7B/g,"{").replace(/%7D/g,"}");var a=this._templateValues;return n=n.replace(/{(.*?)}/g,(function(e,t){return t=a[t],r.defined(t)?encodeURIComponent(t):e})),t&&r.defined(this.proxy)?this.proxy.getURL(n):n},jn.prototype.setQueryParameters=function(e,t){this._queryParameters=t?Wn(this._queryParameters,e,!1):Wn(e,this._queryParameters,!1)},jn.prototype.appendQueryParameters=function(e){this._queryParameters=Wn(e,this._queryParameters,!0)},jn.prototype.setTemplateValues=function(e,t){this._templateValues=t?i.combine(this._templateValues,e):i.combine(e,this._templateValues)},jn.prototype.getDerivedResource=function(e){var t,n=this.clone();return n._retryCount=0,r.defined(e.url)&&(Bn(t=new tn(e.url),n,!0,r.defaultValue(e.preserveQueryParameters,!1)),t.fragment=void 0,n._url=t.resolve(new tn(cn(this._url))).toString()),r.defined(e.queryParameters)&&(n._queryParameters=i.combine(e.queryParameters,n._queryParameters)),r.defined(e.templateValues)&&(n._templateValues=i.combine(e.templateValues,n.templateValues)),r.defined(e.headers)&&(n.headers=i.combine(e.headers,n.headers)),r.defined(e.proxy)&&(n.proxy=e.proxy),r.defined(e.request)&&(n.request=e.request),r.defined(e.retryCallback)&&(n.retryCallback=e.retryCallback),r.defined(e.retryAttempts)&&(n.retryAttempts=e.retryAttempts),n},jn.prototype.retryOnError=function(e){var t=this.retryCallback;if("function"!=typeof t||this._retryCount>=this.retryAttempts)return r.when(!1);var n=this;return r.when(t(this,e)).then((function(e){return++n._retryCount,e}))},jn.prototype.clone=function(e){return(e=r.defined(e)?e:new jn({url:this._url}))._url=this._url,e._queryParameters=ln(this._queryParameters),e._templateValues=ln(this._templateValues),e.headers=ln(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e},jn.prototype.getBaseUri=function(e){return n=e,a="",-1!==(e=(t=this.getUrlComponent(e)).lastIndexOf("/"))&&(a=t.substring(0,e+1)),n&&(t=new tn(t),r.defined(t.query)&&(a+="?"+t.query),r.defined(t.fragment)&&(a+="#"+t.fragment)),a;var t,n,a},jn.prototype.appendForwardSlash=function(){var e;this._url=(0!==(e=this._url).length&&"/"===e[e.length-1]||(e+="/"),e)},jn.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},jn.fetchArrayBuffer=function(e){return new jn(e).fetchArrayBuffer()},jn.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},jn.fetchBlob=function(e){return new jn(e).fetchBlob()},jn.prototype.fetchImage=function(e){e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT);var t=r.defaultValue(e.preferImageBitmap,!1),n=r.defaultValue(e.preferBlob,!1),a=r.defaultValue(e.flipY,!1),i=r.defaultValue(e.skipColorSpaceConversion,!1);if(kn(this.request),!Fn||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!n)return Yn({resource:this,flipY:a,skipColorSpaceConversion:i,preferImageBitmap:t});var s,o,u,l=this.fetchBlob();return r.defined(l)?jn.supportsImageBitmapOptions().then((function(e){return s=e&&t,l})).then((function(e){if(r.defined(e))return u=e,s?jn.createImageBitmapFromBlob(e,{flipY:a,premultiplyAlpha:!1,skipColorSpaceConversion:i}):(e=window.URL.createObjectURL(e),Yn({resource:o=new jn({url:e}),flipY:a,skipColorSpaceConversion:i,preferImageBitmap:!1}))})).then((function(e){if(r.defined(e))return e.blob=u,s||window.URL.revokeObjectURL(o.url),e})).otherwise((function(e){return r.defined(o)&&window.URL.revokeObjectURL(o.url),e.blob=u,r.when.reject(e)})):void 0},jn.fetchImage=function(e){return new jn(e).fetchImage({flipY:e.flipY,skipColorSpaceConversion:e.skipColorSpaceConversion,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})},jn.prototype.fetchText=function(){return this.fetch({responseType:"text"})},jn.fetchText=function(e){return new jn(e).fetchText()},jn.prototype.fetchJson=function(){var e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(r.defined(e))return e.then((function(e){if(r.defined(e))return JSON.parse(e)}))},jn.fetchJson=function(e){return new jn(e).fetchJson()},jn.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},jn.fetchXML=function(e){return new jn(e).fetchXML()},jn.prototype.fetchJsonp=function(e){var t;for(e=r.defaultValue(e,"callback"),kn(this.request);t="loadJsonp"+Math.random().toString().substring(2,8),r.defined(window[t]););return function e(t,n,a){var i={};i[n]=a,t.setQueryParameters(i);var s=t.request;if(s.url=t.url,s.requestFunction=function(){var e=r.when.defer();return window[a]=function(t){e.resolve(t);try{delete window[a]}catch(t){window[a]=void 0}},jn._Implementations.loadAndExecuteScript(t.url,a,e),e.promise},i=zn.request(s),r.defined(i))return i.otherwise((function(i){return s.state!==yn.FAILED?r.when.reject(i):t.retryOnError(i).then((function(o){return o?(s.state=yn.UNISSUED,s.deferred=void 0,e(t,n,a)):r.when.reject(i)}))}))}(this,e,t)},jn.fetchJsonp=function(e){return new jn(e).fetchJsonp(e.callbackParameterName)},jn.prototype._makeRequest=function(e){var t=this;kn(t.request);var n=t.request;n.url=t.url,n.requestFunction=function(){var a=e.responseType,s=i.combine(e.headers,t.headers),o=e.overrideMimeType,u=e.method,l=e.data,c=r.when.defer(),d=jn._Implementations.loadWithXhr(t.url,a,u,l,s,c,o);return r.defined(d)&&r.defined(d.abort)&&(n.cancelFunction=function(){d.abort()}),c.promise};var a=zn.request(n);if(r.defined(a))return a.then((function(e){return n.cancelFunction=void 0,e})).otherwise((function(a){return n.cancelFunction=void 0,n.state!==yn.FAILED?r.when.reject(a):t.retryOnError(a).then((function(i){return i?(n.state=yn.UNISSUED,n.deferred=void 0,t.fetch(e)):r.when.reject(a)}))}))};var Hn=/^data:(.*?)(;base64)?,(.*)$/;function Zn(e,t){return t=decodeURIComponent(t),e?atob(t):t}function Xn(e,t){for(var n=Zn(e,t),r=(t=new ArrayBuffer(n.length),new Uint8Array(t)),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return t}function Jn(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}jn.prototype.fetch=function(e){return(e=Ln(e,{})).method="GET",this._makeRequest(e)},jn.fetch=function(e){return new jn(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},jn.prototype.delete=function(e){return(e=Ln(e,{})).method="DELETE",this._makeRequest(e)},jn.delete=function(e){return new jn(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,data:e.data})},jn.prototype.head=function(e){return(e=Ln(e,{})).method="HEAD",this._makeRequest(e)},jn.head=function(e){return new jn(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},jn.prototype.options=function(e){return(e=Ln(e,{})).method="OPTIONS",this._makeRequest(e)},jn.options=function(e){return new jn(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},jn.prototype.post=function(e,t){return n.Check.defined("data",e),(t=Ln(t,{})).method="POST",t.data=e,this._makeRequest(t)},jn.post=function(e){return new jn(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},jn.prototype.put=function(e,t){return n.Check.defined("data",e),(t=Ln(t,{})).method="PUT",t.data=e,this._makeRequest(t)},jn.put=function(e){return new jn(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},jn.prototype.patch=function(e,t){return n.Check.defined("data",e),(t=Ln(t,{})).method="PATCH",t.data=e,this._makeRequest(t)},jn.patch=function(e){return new jn(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},(jn._Implementations={}).createImage=function(e,t,n,a,i,o){var u=e.url;jn.supportsImageBitmapOptions().then((function(l){if(!l||!o)return f=u,l=t,c=n,(d=new Image).onload=function(){c.resolve(d)},d.onerror=function(e){c.reject(e)},l&&(Pn.contains(f)?d.crossOrigin="use-credentials":d.crossOrigin=""),void(d.src=f);var c,d,f=r.when.defer(),h=jn._Implementations.loadWithXhr(u,"blob","GET",void 0,void 0,f,void 0,void 0,void 0);return r.defined(h)&&r.defined(h.abort)&&(e.cancelFunction=function(){h.abort()}),f.promise.then((function(e){return r.defined(e)?jn.createImageBitmapFromBlob(e,{flipY:a,premultiplyAlpha:!1,skipColorSpaceConversion:i}):void n.reject(new s.RuntimeError("Successfully retrieved "+u+" but it contained no content."))})).then(n.resolve)})).otherwise(n.reject)},jn.createImageBitmapFromBlob=function(e,t){return n.Check.defined("options",t),n.Check.typeOf.bool("options.flipY",t.flipY),n.Check.typeOf.bool("options.premultiplyAlpha",t.premultiplyAlpha),n.Check.typeOf.bool("options.skipColorSpaceConversion",t.skipColorSpaceConversion),createImageBitmap(e,{imageOrientation:t.flipY?"flipY":"none",premultiplyAlpha:t.premultiplyAlpha?"premultiply":"none",colorSpaceConversion:t.skipColorSpaceConversion?"none":"default"})};var Gn="undefined"==typeof XMLHttpRequest;function Qn(e){var t,n;e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=r.defaultValue(e.addNewLeapSeconds,!0),r.defined(e.data)?$n(this,e.data):r.defined(e.url)?(t=jn.createIfNeeded(e.url),(n=this)._downloadPromise=t.fetchJson().then((function(e){$n(n,e)})).otherwise((function(){n._dataError="An error occurred while retrieving the EOP data from the URL "+t.url+"."}))):$n(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function Kn(e,t){return $t.compare(e.julianDate,t)}function $n(e,t){if(r.defined(t.columnNames))if(r.defined(t.samples)){var n=t.columnNames.indexOf("modifiedJulianDateUtc"),a=t.columnNames.indexOf("xPoleWanderRadians"),i=t.columnNames.indexOf("yPoleWanderRadians"),s=t.columnNames.indexOf("ut1MinusUtcSeconds"),o=t.columnNames.indexOf("xCelestialPoleOffsetRadians"),u=t.columnNames.indexOf("yCelestialPoleOffsetRadians"),l=t.columnNames.indexOf("taiMinusUtcSeconds");if(n<0||a<0||i<0||s<0||o<0||u<0||l<0)e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns";else{var c,d=e._samples=t.samples,f=e._dates=[];e._dateColumn=n,e._xPoleWanderRadiansColumn=a,e._yPoleWanderRadiansColumn=i,e._ut1MinusUtcSecondsColumn=s,e._xCelestialPoleOffsetRadiansColumn=o,e._yCelestialPoleOffsetRadiansColumn=u,e._taiMinusUtcSecondsColumn=l,e._columnCount=t.columnNames.length,e._lastIndex=void 0;for(var h=e._addNewLeapSeconds,p=0,m=d.length;p<m;p+=e._columnCount){var y,C=d[p+n],w=d[p+l],v=new $t(C+Dt.MODIFIED_JULIAN_DATE_DIFFERENCE,w,Pt.TAI);f.push(v),h&&(w===c||!r.defined(c)||(C=Rt(y=$t.leapSeconds,v,Kn))<0&&(v=new Ut(v,w),y.splice(~C,0,v)),c=w)}}}else e._dataError="Error in loaded EOP data: The samples property is required.";else e._dataError="Error in loaded EOP data: The columnNames property is required."}function er(e,t,n,r,a){r*=n,a.xPoleWander=t[r+e._xPoleWanderRadiansColumn],a.yPoleWander=t[r+e._yPoleWanderRadiansColumn],a.xPoleOffset=t[r+e._xCelestialPoleOffsetRadiansColumn],a.yPoleOffset=t[r+e._yCelestialPoleOffsetRadiansColumn],a.ut1MinusUtc=t[r+e._ut1MinusUtcSecondsColumn]}function tr(e,t,n){return t+e*(n-t)}function nr(e,t,n,r,a,i,s){var o=e._columnCount;if(i>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var u=t[a],l=t[i];if(u.equals(l)||r.equals(u))return er(e,n,a,o,s),s;if(r.equals(l))return er(e,n,i,o,s),s;var c=$t.secondsDifference(r,u)/$t.secondsDifference(l,u),d=a*o;return t=i*o,u=n[d+e._ut1MinusUtcSecondsColumn],!(.5<(i=(a=n[t+e._ut1MinusUtcSecondsColumn])-u)||i<-.5)||(o=n[d+e._taiMinusUtcSecondsColumn])!==(i=n[t+e._taiMinusUtcSecondsColumn])&&(l.equals(r)?u=a:a-=i-o),s.xPoleWander=tr(c,n[d+e._xPoleWanderRadiansColumn],n[t+e._xPoleWanderRadiansColumn]),s.yPoleWander=tr(c,n[d+e._yPoleWanderRadiansColumn],n[t+e._yPoleWanderRadiansColumn]),s.xPoleOffset=tr(c,n[d+e._xCelestialPoleOffsetRadiansColumn],n[t+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=tr(c,n[d+e._yCelestialPoleOffsetRadiansColumn],n[t+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=tr(c,u,a),s}function rr(e,t,n){this.heading=r.defaultValue(e,0),this.pitch=r.defaultValue(t,0),this.roll=r.defaultValue(n,0)}jn._Implementations.loadWithXhr=function(e,t,n,a,i,o,u){var l=Hn.exec(e);if(null===l){if(Gn)return c=e,d=t,f=n,h=i,p=o,c="https:"===(m=require("url").parse(c)).protocol?require("https"):require("http"),y=require("zlib"),h={protocol:m.protocol,hostname:m.hostname,port:m.port,path:m.path,query:m.query,method:f,headers:h},void c.request(h).on("response",(function(e){var t;e.statusCode<200||300<=e.statusCode?p.reject(new vn(e.statusCode,e,e.headers)):(t=[],e.on("data",(function(e){t.push(e)})),e.on("end",(function(){var n=Buffer.concat(t);"gzip"===e.headers["content-encoding"]?y.gunzip(n,(function(e,t){e?p.reject(new s.RuntimeError("Error decompressing response.")):p.resolve(Jn(t,d))})):p.resolve(Jn(n,d))})))})).on("error",(function(e){p.reject(new vn)})).end();var c,d,f,h,p,m,y,C=new XMLHttpRequest;if(Pn.contains(e)&&(C.withCredentials=!0),C.open(n,e,!0),r.defined(u)&&r.defined(C.overrideMimeType)&&C.overrideMimeType(u),r.defined(i))for(var w in i)i.hasOwnProperty(w)&&C.setRequestHeader(w,i[w]);r.defined(t)&&(C.responseType=t);var v=!1;return"string"==typeof e&&(v=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),C.onload=function(){if(!(C.status<200||300<=C.status)||v&&0===C.status){var e=C.response,a=C.responseType;if("HEAD"===n||"OPTIONS"===n){var i=C.getAllResponseHeaders().trim().split(/[\r\n]+/),u={};return i.forEach((function(e){var t=e.split(": ");e=t.shift(),u[e]=t.join(": ")})),void o.resolve(u)}if(204===C.status)o.resolve();else if(!r.defined(e)||r.defined(t)&&a!==t)if("json"===t&&"string"==typeof e)try{o.resolve(JSON.parse(e))}catch(e){o.reject(e)}else(""===a||"document"===a)&&r.defined(C.responseXML)&&C.responseXML.hasChildNodes()?o.resolve(C.responseXML):""!==a&&"text"!==a||!r.defined(C.responseText)?o.reject(new s.RuntimeError("Invalid XMLHttpRequest response type.")):o.resolve(C.responseText);else o.resolve(e)}else o.reject(new vn(C.status,C.response,C.getAllResponseHeaders()))},C.onerror=function(e){o.reject(new vn)},C.send(a),C}o.resolve(function(e,t){t=r.defaultValue(t,"");var n=e[1],a=!!e[2],i=e[3];switch(t){case"":case"text":return Zn(a,i);case"arraybuffer":return Xn(a,i);case"blob":var s=Xn(a,i);return new Blob([s],{type:n});case"document":return(new DOMParser).parseFromString(Zn(a,i),n);case"json":return JSON.parse(Zn(a,i))}}(l,t))},jn._Implementations.loadAndExecuteScript=function(e,t,n){return function(e){var t=r.when.defer(),n=document.createElement("script");n.async=!0,n.src=e;var a=document.getElementsByTagName("head")[0];return n.onload=function(){n.onload=void 0,a.removeChild(n),t.resolve()},n.onerror=function(e){t.reject(e)},a.appendChild(n),t.promise}(e).otherwise(n.reject)},(jn._DefaultImplementations={}).createImage=jn._Implementations.createImage,jn._DefaultImplementations.loadWithXhr=jn._Implementations.loadWithXhr,jn._DefaultImplementations.loadAndExecuteScript=jn._Implementations.loadAndExecuteScript,jn.DEFAULT=Object.freeze(new jn({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),Qn.NONE=Object.freeze({getPromiseToLoad:function(){return r.when.resolve()},compute:function(e,t){return r.defined(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new Tt(0,0,0,0,0),t}}),Qn.prototype.getPromiseToLoad=function(){return r.when(this._downloadPromise)},Qn.prototype.compute=function(e,t){if(r.defined(this._samples)){if(r.defined(t)||(t=new Tt(0,0,0,0,0)),0===this._samples.length)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;var n=this._dates,a=this._lastIndex,i=0,o=0;if(r.defined(a)){var u=n[a],l=n[a+1],c=$t.lessThanOrEquals(u,e),d=!r.defined(l);if(u=d||$t.greaterThanOrEquals(l,e),c&&u)return i=a,!d&&l.equals(e)&&++i,nr(this,n,this._samples,e,i,o=i+1,t),t}return 0<=(l=Rt(n,e,$t.compare,this._dateColumn))?(l<n.length-1&&n[l+1].equals(e)&&++l,o=i=l):(i=(o=~l)-1)<0&&(i=0),this._lastIndex=i,nr(this,n,this._samples,e,i,o,t),t}if(r.defined(this._dataError))throw new s.RuntimeError(this._dataError)},rr.fromQuaternion=function(e,t){r.defined(t)||(t=new rr);var n=2*(e.w*e.y-e.z*e.x),i=1-2*(e.x*e.x+e.y*e.y),s=2*(e.w*e.x+e.y*e.z),o=1-2*(e.y*e.y+e.z*e.z);return e=2*(e.w*e.z+e.x*e.y),t.heading=-Math.atan2(e,o),t.roll=Math.atan2(s,i),t.pitch=-a.CesiumMath.asinClamped(n),t},rr.fromDegrees=function(e,t,n,i){return(i=r.defined(i)?i:new rr).heading=e*a.CesiumMath.RADIANS_PER_DEGREE,i.pitch=t*a.CesiumMath.RADIANS_PER_DEGREE,i.roll=n*a.CesiumMath.RADIANS_PER_DEGREE,i},rr.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new rr(e.heading,e.pitch,e.roll)},rr.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},rr.equalsEpsilon=function(e,t,n,i){return e===t||r.defined(e)&&r.defined(t)&&a.CesiumMath.equalsEpsilon(e.heading,t.heading,n,i)&&a.CesiumMath.equalsEpsilon(e.pitch,t.pitch,n,i)&&a.CesiumMath.equalsEpsilon(e.roll,t.roll,n,i)},rr.prototype.clone=function(e){return rr.clone(this,e)},rr.prototype.equals=function(e){return rr.equals(this,e)},rr.prototype.equalsEpsilon=function(e,t,n){return rr.equalsEpsilon(this,e,t,n)},rr.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"};var ar,ir,sr,or=/((?:.*\/)|^)Cesium\.js(?:\?|\#|$)/;function ur(e){return"undefined"==typeof document?e:((ar=r.defined(ar)?ar:document.createElement("a")).href=e,ar.href=ar.href,ar.href)}function lr(){if(r.defined(ir))return ir;var e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:"object"==typeof define&&r.defined(define.amd)&&!define.amd.toUrlUndefined&&r.defined(require.toUrl)?cn("..",fr("Core/buildModuleUrl.js")):function(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t){var r=e[t].getAttribute("src");if(null!==(r=or.exec(r)))return r[1]}}();return(ir=new jn({url:ur(e)})).appendForwardSlash(),ir}function cr(e){return ur(require.toUrl("../"+e))}function dr(e){return lr().getDerivedResource({url:e}).url}function fr(e){return(sr=r.defined(sr)?sr:"object"==typeof define&&r.defined(define.amd)&&!define.amd.toUrlUndefined&&r.defined(require.toUrl)?cr:dr)(e)}function hr(e,t,n){this.x=e,this.y=t,this.s=n}function pr(e){e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT),this._xysFileUrlTemplate=jn.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=r.defaultValue(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=r.defaultValue(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new $t(this._sampleZeroJulianEphemerisDate,0,Pt.TAI),this._stepSizeDays=r.defaultValue(e.stepSizeDays,1),this._samplesPerXysFile=r.defaultValue(e.samplesPerXysFile,1e3),this._totalSamples=r.defaultValue(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,n=this._denominators=new Array(t+1),a=this._xTable=new Array(t+1),i=Math.pow(this._stepSizeDays,t),s=0;s<=t;++s){n[s]=i,a[s]=s*this._stepSizeDays;for(var o=0;o<=t;++o)o!==s&&(n[s]*=s-o);n[s]=1/n[s]}this._work=new Array(t+1),this._coef=new Array(t+1)}fr._cesiumScriptRegex=or,fr._buildModuleUrlFromBaseUrl=dr,fr._clearBaseResource=function(){ir=void 0},fr.setBaseUrl=function(e){ir=jn.DEFAULT.getDerivedResource({url:e})},fr.getCesiumBaseUrl=lr;var mr=new $t(0,0,Pt.TAI);function yr(e,t,n){var r=mr;return r.dayNumber=t,r.secondsOfDay=n,$t.daysDifference(r,e._sampleZeroDateTT)}function Cr(e,t){if(e._chunkDownloadsInProgress[t])return e._chunkDownloadsInProgress[t];var n=r.when.defer();e._chunkDownloadsInProgress[t]=n;var a=e._xysFileUrlTemplate;return a=r.defined(a)?a.getDerivedResource({templateValues:{0:t}}):new jn({url:fr("Assets/IAU2006_XYS/IAU2006_XYS_"+t+".json")}),r.when(a.fetchJson(),(function(r){e._chunkDownloadsInProgress[t]=!1;for(var a=e._samples,i=r.samples,s=t*e._samplesPerXysFile*3,o=0,u=i.length;o<u;++o)a[s+o]=i[o];n.resolve()})),n.promise}pr.prototype.preload=function(e,t,n,a){t=yr(this,e,t),a=yr(this,n,a),t=t/this._stepSizeDays-this._interpolationOrder/2|0,(a=a/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder)>=this._totalSamples&&(a=this._totalSamples-1),t=(t=t<0?0:t)/this._samplesPerXysFile|0;for(var i=a/this._samplesPerXysFile|0,s=[],o=t;o<=i;++o)s.push(Cr(this,o));return r.when.all(s)},pr.prototype.computeXysRadians=function(e,t,n){var a=yr(this,e,t);if(!(a<0||(e=a/this._stepSizeDays|0)>=this._totalSamples)){var i=this._interpolationOrder,s=e-(i/2|0);(t=(s=s<0?0:s)+i)>=this._totalSamples&&(s=(t=this._totalSamples-1)-i)<0&&(s=0),e=!1;var o=this._samples;if(r.defined(o[3*s])||(Cr(this,s/this._samplesPerXysFile|0),e=!0),r.defined(o[3*t])||(Cr(this,t/this._samplesPerXysFile|0),e=!0),!e){r.defined(n)?(n.x=0,n.y=0,n.s=0):n=new hr(0,0,0);for(var u,l=a-s*this._stepSizeDays,c=this._work,d=this._denominators,f=this._coef,h=this._xTable,p=0;p<=i;++p)c[p]=l-h[p];for(p=0;p<=i;++p){for(f[p]=1,u=0;u<=i;++u)u!==p&&(f[p]*=c[u]);f[p]*=d[p];var m=3*(s+p);n.x+=f[p]*o[m++],n.y+=f[p]*o[m++],n.s+=f[p]*o[m]}return n}}};var wr={},vr={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},gr={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},xr={},Er={east:new t.Cartesian3,north:new t.Cartesian3,up:new t.Cartesian3,west:new t.Cartesian3,south:new t.Cartesian3,down:new t.Cartesian3},Or=new t.Cartesian3,_r=new t.Cartesian3,Sr=new t.Cartesian3;wr.localFrameToFixedFrameGenerator=function(e,i){if(!vr.hasOwnProperty(e)||!vr[e].hasOwnProperty(i))throw new n.DeveloperError("firstAxis and secondAxis must be east, north, up, west, south or down.");var s,o=vr[e][i],u=e+i;return r.defined(xr[u])?s=xr[u]:(s=function(n,s,u){var l;return r.defined(u)||(u=new A),t.Cartesian3.equalsEpsilon(n,t.Cartesian3.ZERO,a.CesiumMath.EPSILON14)?(t.Cartesian3.unpack(gr[e],0,Or),t.Cartesian3.unpack(gr[i],0,_r),t.Cartesian3.unpack(gr[o],0,Sr)):a.CesiumMath.equalsEpsilon(n.x,0,a.CesiumMath.EPSILON14)&&a.CesiumMath.equalsEpsilon(n.y,0,a.CesiumMath.EPSILON14)?(l=a.CesiumMath.sign(n.z),t.Cartesian3.unpack(gr[e],0,Or),"east"!==e&&"west"!==e&&t.Cartesian3.multiplyByScalar(Or,l,Or),t.Cartesian3.unpack(gr[i],0,_r),"east"!==i&&"west"!==i&&t.Cartesian3.multiplyByScalar(_r,l,_r),t.Cartesian3.unpack(gr[o],0,Sr),"east"!==o&&"west"!==o&&t.Cartesian3.multiplyByScalar(Sr,l,Sr)):((s=r.defaultValue(s,t.Ellipsoid.WGS84)).geodeticSurfaceNormal(n,Er.up),l=Er.up,(s=Er.east).x=-n.y,s.y=n.x,s.z=0,t.Cartesian3.normalize(s,Er.east),t.Cartesian3.cross(l,s,Er.north),t.Cartesian3.multiplyByScalar(Er.up,-1,Er.down),t.Cartesian3.multiplyByScalar(Er.east,-1,Er.west),t.Cartesian3.multiplyByScalar(Er.north,-1,Er.south),Or=Er[e],_r=Er[i],Sr=Er[o]),u[0]=Or.x,u[1]=Or.y,u[2]=Or.z,u[3]=0,u[4]=_r.x,u[5]=_r.y,u[6]=_r.z,u[7]=0,u[8]=Sr.x,u[9]=Sr.y,u[10]=Sr.z,u[11]=0,u[12]=n.x,u[13]=n.y,u[14]=n.z,u[15]=1,u},xr[u]=s),s},wr.eastNorthUpToFixedFrame=wr.localFrameToFixedFrameGenerator("east","north"),wr.northEastDownToFixedFrame=wr.localFrameToFixedFrameGenerator("north","east"),wr.northUpEastToFixedFrame=wr.localFrameToFixedFrameGenerator("north","up"),wr.northWestUpToFixedFrame=wr.localFrameToFixedFrameGenerator("north","west");var br=new et,Ar=new t.Cartesian3(1,1,1),Mr=new A;wr.headingPitchRollToFixedFrame=function(e,n,a,i,s){return i=r.defaultValue(i,wr.eastNorthUpToFixedFrame),n=et.fromHeadingPitchRoll(n,br),n=A.fromTranslationQuaternionRotationScale(t.Cartesian3.ZERO,n,Ar,Mr),s=i(e,a,s),A.multiply(s,n,s)};var Rr=new A,Tr=new c;wr.headingPitchRollQuaternion=function(e,t,n,r,a){return r=wr.headingPitchRollToFixedFrame(e,t,n,r,Rr),r=A.getMatrix3(r,Tr),et.fromRotationMatrix(r,a)};var zr=new t.Cartesian3(1,1,1),qr=new t.Cartesian3,Ir=new A,Ur=new A,Dr=new c,Pr=new et;wr.fixedFrameToHeadingPitchRoll=function(e,n,a,i){n=r.defaultValue(n,t.Ellipsoid.WGS84),a=r.defaultValue(a,wr.eastNorthUpToFixedFrame),r.defined(i)||(i=new rr);var s=A.getTranslation(e,qr);return t.Cartesian3.equals(s,t.Cartesian3.ZERO)?(i.heading=0,i.pitch=0,i.roll=0,i):(n=A.inverseTransformation(a(s,n,Ir),Ir),e=A.setScale(e,zr,Ur),e=A.setTranslation(e,t.Cartesian3.ZERO,e),n=A.multiply(n,e,n),n=et.fromRotationMatrix(A.getMatrix3(n,Dr),Pr),n=et.normalize(n,n),rr.fromQuaternion(n,i))};var Nr=a.CesiumMath.TWO_PI/86400,Vr=new $t;wr.computeTemeToPseudoFixedMatrix=function(e,t){e=(n=(Vr=$t.addSeconds(e,-$t.computeTaiMinusUtc(e),Vr)).dayNumber)-2451545;var n=(24110.54841+(e=43200<=(i=Vr.secondsOfDay)?(.5+e)/Dt.DAYS_PER_JULIAN_CENTURY:(e-.5)/Dt.DAYS_PER_JULIAN_CENTURY)*(8640184.812866+e*(.093104+-62e-7*e)))*Nr%a.CesiumMath.TWO_PI+(72921158553e-15+11772758384668e-32*(n-2451545.5))*((i+.5*Dt.SECONDS_PER_DAY)%Dt.SECONDS_PER_DAY),i=Math.cos(n);return n=Math.sin(n),r.defined(t)?(t[0]=i,t[1]=-n,t[2]=0,t[3]=n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new c(i,n,0,-n,i,0,0,0,1)},wr.iau2006XysData=new pr,wr.earthOrientationParameters=Qn.NONE;var Fr=32.184;wr.preloadIcrfFixed=function(e){var t=e.start.dayNumber,n=e.start.secondsOfDay+Fr,a=e.stop.dayNumber;return e=e.stop.secondsOfDay+Fr,a=wr.iau2006XysData.preload(t,n,a,e),e=wr.earthOrientationParameters.getPromiseToLoad(),r.when.all([a,e])},wr.computeIcrfToFixedMatrix=function(e,t){if(r.defined(t)||(t=new c),e=wr.computeFixedToIcrfMatrix(e,t),r.defined(e))return c.transpose(e,t)};var Br=new hr(0,0,0),Lr=new Tt(0,0,0,0,0),kr=new c,Wr=new c;wr.computeFixedToIcrfMatrix=function(e,t){r.defined(t)||(t=new c);var n=wr.earthOrientationParameters.compute(e,Lr);if(r.defined(n)){var i=e.dayNumber,s=e.secondsOfDay+Fr,o=wr.iau2006XysData.computeXysRadians(i,s,Br);if(r.defined(o)){var u=o.x+n.xPoleOffset,l=o.y+n.yPoleOffset,d=1/(1+Math.sqrt(1-u*u-l*l)),f=kr;return f[0]=1-d*u*u,f[3]=-d*u*l,f[6]=u,f[1]=-d*u*l,f[4]=1-d*l*l,f[7]=l,f[2]=-u,f[5]=-l,f[8]=1-d*(u*u+l*l),u=c.fromRotationZ(-o.s,Wr),l=c.multiply(f,u,kr),o=e.dayNumber,u=(u=.779057273264+(f=(e.secondsOfDay-$t.computeTaiMinusUtc(e)+n.ut1MinusUtc)/Dt.SECONDS_PER_DAY)+.00273781191135448*(o-2451545+f))%1*a.CesiumMath.TWO_PI,e=c.fromRotationZ(u,Wr),o=c.multiply(l,e,kr),f=Math.cos(n.xPoleWander),u=Math.cos(n.yPoleWander),l=Math.sin(n.xPoleWander),e=Math.sin(n.yPoleWander),n=i-2451545+s/Dt.SECONDS_PER_DAY,i=-47e-6*(n/=36525)*a.CesiumMath.RADIANS_PER_DEGREE/3600,s=Math.cos(i),n=Math.sin(i),(i=Wr)[0]=f*s,i[1]=f*n,i[2]=l,i[3]=-u*n+e*l*s,i[4]=u*s+e*l*n,i[5]=-e*f,i[6]=-e*n-u*l*s,i[7]=e*s-u*l*n,i[8]=u*f,c.multiply(o,i,t)}}};var jr=new v;wr.pointToWindowCoordinates=function(e,t,n,r){return(r=wr.pointToGLWindowCoordinates(e,t,n,r)).y=2*t[5]-r.y,r},wr.pointToGLWindowCoordinates=function(e,n,a,i){r.defined(i)||(i=new t.Cartesian2);var s=jr;return A.multiplyByVector(e,v.fromElements(a.x,a.y,a.z,1,s),s),v.multiplyByScalar(s,1/s.w,s),A.multiplyByVector(n,s,s),t.Cartesian2.fromCartesian4(s,i)};var Yr=new t.Cartesian3,Hr=new t.Cartesian3,Zr=new t.Cartesian3;wr.rotationMatrixFromPositionVelocity=function(e,n,i,s){return i=r.defaultValue(i,t.Ellipsoid.WGS84).geodeticSurfaceNormal(e,Yr),e=t.Cartesian3.cross(n,i,Hr),t.Cartesian3.equalsEpsilon(e,t.Cartesian3.ZERO,a.CesiumMath.EPSILON6)&&(e=t.Cartesian3.clone(t.Cartesian3.UNIT_X,e)),i=t.Cartesian3.cross(e,n,Zr),t.Cartesian3.normalize(i,i),t.Cartesian3.cross(n,i,e),t.Cartesian3.negate(e,e),t.Cartesian3.normalize(e,e),(s=r.defined(s)?s:new c)[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=e.x,s[4]=e.y,s[5]=e.z,s[6]=i.x,s[7]=i.y,s[8]=i.z,s};var Xr=new A(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),Jr=new t.Cartographic,Gr=new t.Cartesian3,Qr=new t.Cartesian3,Kr=new c,$r=new A,ea=new A;wr.basisTo2D=function(e,n,r){var a=A.getTranslation(n,Qr),i=e.ellipsoid,s=i.cartesianToCartographic(a,Jr);return s=e.project(s,Gr),t.Cartesian3.fromElements(s.z,s.x,s.y,s),i=wr.eastNorthUpToFixedFrame(a,i,$r),i=A.inverseTransformation(i,ea),n=A.getMatrix3(n,Kr),n=A.multiplyByMatrix3(i,n,r),A.multiply(Xr,n,r),A.setTranslation(r,s,r),r},wr.wgs84To2DModelMatrix=function(e,n,r){var a=e.ellipsoid,i=wr.eastNorthUpToFixedFrame(n,a,$r);return i=A.inverseTransformation(i,ea),n=a.cartesianToCartographic(n,Jr),n=e.project(n,Gr),t.Cartesian3.fromElements(n.z,n.x,n.y,n),n=A.fromTranslation(n,$r),A.multiply(Xr,i,r),A.multiply(n,r,r),r},e.BoundingSphere=B,e.Cartesian4=v,e.FeatureDetection=$e,e.GeographicProjection=o,e.Intersect=u,e.Interval=l,e.Matrix3=c,e.Matrix4=A,e.Quaternion=et,e.Resource=jn,e.Transforms=wr,e.buildModuleUrl=fr}));