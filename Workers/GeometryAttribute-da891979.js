define(["exports","./Cartesian2-08065eec","./Check-be2d5acb","./when-ad3237a0","./Transforms-1142ce48","./WebGLConstants-1c8239cc"],(function(e,t,n,r,a,i){"use strict";var u=Object.freeze({NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3});function o(e,t,n,a){this[0]=r.defaultValue(e,0),this[1]=r.defaultValue(n,0),this[2]=r.defaultValue(t,0),this[3]=r.defaultValue(a,0)}o.packedLength=4,o.pack=function(e,t,n){return n=r.defaultValue(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t},o.unpack=function(e,t,n){return t=r.defaultValue(t,0),(n=r.defined(n)?n:new o)[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n},o.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new o(e[0],e[2],e[1],e[3])},o.fromArray=function(e,t,n){return t=r.defaultValue(t,0),(n=r.defined(n)?n:new o)[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n},o.fromColumnMajorArray=function(e,t){return o.clone(e,t)},o.fromRowMajorArray=function(e,t){return r.defined(t)?(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3],t):new o(e[0],e[1],e[2],e[3])},o.fromScale=function(e,t){return r.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=e.y,t):new o(e.x,0,0,e.y)},o.fromUniformScale=function(e,t){return r.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=e,t):new o(e,0,0,e)},o.fromRotation=function(e,t){var n=Math.cos(e);return e=Math.sin(e),r.defined(t)?(t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t):new o(n,-e,e,n)},o.toArray=function(e,t){return r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):[e[0],e[1],e[2],e[3]]},o.getElementIndex=function(e,t){return 2*e+t},o.getColumn=function(e,t,n){t=e[r=2*t];var r=e[1+r];return n.x=t,n.y=r,n},o.setColumn=function(e,t,n,r){return t*=2,(r=o.clone(e,r))[t]=n.x,r[1+t]=n.y,r},o.getRow=function(e,t,n){var r=e[t];return t=e[t+2],n.x=r,n.y=t,n},o.setRow=function(e,t,n,r){return(r=o.clone(e,r))[t]=n.x,r[t+2]=n.y,r};var s=new t.Cartesian2;o.getScale=function(e,n){return n.x=t.Cartesian2.magnitude(t.Cartesian2.fromElements(e[0],e[1],s)),n.y=t.Cartesian2.magnitude(t.Cartesian2.fromElements(e[2],e[3],s)),n};var f=new t.Cartesian2;o.getMaximumScale=function(e){return o.getScale(e,f),t.Cartesian2.maximumComponent(f)},o.multiply=function(e,t,n){var r=e[0]*t[0]+e[2]*t[1],a=e[0]*t[2]+e[2]*t[3],i=e[1]*t[0]+e[3]*t[1];return t=e[1]*t[2]+e[3]*t[3],n[0]=r,n[1]=i,n[2]=a,n[3]=t,n},o.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n},o.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n},o.multiplyByVector=function(e,t,n){var r=e[0]*t.x+e[2]*t.y;return t=e[1]*t.x+e[3]*t.y,n.x=r,n.y=t,n},o.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n},o.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.y,n[3]=e[3]*t.y,n},o.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},o.transpose=function(e,t){var n=e[0],r=e[2],a=e[1];return e=e[3],t[0]=n,t[1]=r,t[2]=a,t[3]=e,t},o.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},o.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},o.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]},o.equalsEpsilon=function(e,t,n){return n=r.defaultValue(n,0),e===t||r.defined(e)&&r.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n},o.IDENTITY=Object.freeze(new o(1,0,0,1)),o.ZERO=Object.freeze(new o(0,0,0,0)),o.COLUMN0ROW0=0,o.COLUMN0ROW1=1,o.COLUMN1ROW0=2,o.COLUMN1ROW1=3,Object.defineProperties(o.prototype,{length:{get:function(){return o.packedLength}}}),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t){return o.equalsEpsilon(this,e,t)},o.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"};var c={POINTS:i.WebGLConstants.POINTS,LINES:i.WebGLConstants.LINES,LINE_LOOP:i.WebGLConstants.LINE_LOOP,LINE_STRIP:i.WebGLConstants.LINE_STRIP,TRIANGLES:i.WebGLConstants.TRIANGLES,TRIANGLE_STRIP:i.WebGLConstants.TRIANGLE_STRIP,TRIANGLE_FAN:i.WebGLConstants.TRIANGLE_FAN,validate:function(e){return e===c.POINTS||e===c.LINES||e===c.LINE_LOOP||e===c.LINE_STRIP||e===c.TRIANGLES||e===c.TRIANGLE_STRIP||e===c.TRIANGLE_FAN}},l=Object.freeze(c);function d(e){e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT),this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=r.defaultValue(e.primitiveType,l.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=r.defaultValue(e.geometryType,u.NONE),this.boundingSphereCV=e.boundingSphereCV,this.offsetAttribute=e.offsetAttribute}d.computeNumberOfVertices=function(e){var t,n,a=-1;for(t in e.attributes)e.attributes.hasOwnProperty(t)&&r.defined(e.attributes[t])&&r.defined(e.attributes[t].values)&&(a=(n=e.attributes[t]).values.length/n.componentsPerAttribute);return a};var y=new t.Cartographic,m=new t.Cartesian3,p=new a.Matrix4,h=[new t.Cartographic,new t.Cartographic,new t.Cartographic],N=[new t.Cartesian2,new t.Cartesian2,new t.Cartesian2],I=[new t.Cartesian2,new t.Cartesian2,new t.Cartesian2],C=new t.Cartesian3,b=new a.Quaternion,T=new a.Matrix4,E=new o;d._textureCoordinateRotationPoints=function(e,n,r,i){var u=t.Rectangle.center(i,y),s=t.Cartographic.toCartesian(u,r,m),f=(u=a.Transforms.eastNorthUpToFixedFrame(s,r,p),a.Matrix4.inverse(u,p)),c=N,l=h;l[0].longitude=i.west,l[0].latitude=i.south,l[1].longitude=i.west,l[1].latitude=i.north,l[2].longitude=i.east,l[2].latitude=i.south;for(var d=C,x=0;x<3;x++)t.Cartographic.toCartesian(l[x],r,d),d=a.Matrix4.multiplyByPointAsVector(f,d,d),c[x].x=d.x,c[x].y=d.y;s=a.Quaternion.fromAxisAngle(t.Cartesian3.UNIT_Z,-n,b);var L=a.Matrix3.fromQuaternion(s,T),w=e.length,g=Number.POSITIVE_INFINITY,S=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,O=Number.NEGATIVE_INFINITY;for(x=0;x<w;x++)d=a.Matrix4.multiplyByPointAsVector(f,e[x],d),d=a.Matrix3.multiplyByVector(L,d,d),g=Math.min(g,d.x),S=Math.min(S,d.y),A=Math.max(A,d.x),O=Math.max(O,d.y);var M=o.fromRotation(n,E),R=I;R[0].x=g,R[0].y=S,R[1].x=g,R[1].y=O,R[2].x=A,R[2].y=S;var v=c[0],V=c[2].x-v.x,P=c[1].y-v.y;for(x=0;x<3;x++){var G=R[x];o.multiplyByVector(M,G,G),G.x=(G.x-v.x)/V,G.y=(G.y-v.y)/P}return u=R[0],i=R[1],s=R[2],n=new Array(6),t.Cartesian2.pack(u,n),t.Cartesian2.pack(i,n,2),t.Cartesian2.pack(s,n,4),n},e.Geometry=d,e.GeometryAttribute=function(e){e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT),this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=r.defaultValue(e.normalize,!1),this.values=e.values},e.GeometryType=u,e.Matrix2=o,e.PrimitiveType=l}));